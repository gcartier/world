;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; World Log
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012-2013
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.log jazz


(import (gambit.log))


(definition public working-state 0)
(definition public waiting-state 1)
(definition public locked-state  2)
(definition nb-states 3)


(definition public (new-log-context i)
  (let ((log-context (log-context-alloc)))

    (log-setup log-context
               "world"
               i
               nb-states
               1000000)

    (log-define-state log-context working-state "working"  log-GREEN)
    (log-define-state log-context waiting-state "waiting"  log-RED)
    (log-define-state log-context locked-state  "locked"   log-BLUE)

    log-context)))
