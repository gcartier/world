;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; Spheres
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012-2013
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.sphere jazz


(import (jazz.jml)
        (jazz.graphic)
        (jazz.graphic.opengl.glew)
        (world)
        (world.autoload)
        (world.draw)
        (world.dyes)
        (world.element)
        (world.entity)
        (world.foreign)
        (world.gadget)
        (world.geometry)
        (world.object)
        (world.model)
        (world.models)
        (world.serialization)
        (world.shader)
        (world.syntax (phase syntax)))


(class Sphere extends Entity
  
  
  (method override (prepare rest)
    (nextmethod rest)
    (set-scaling .5)
    (set-model 'Sphere))
  
  
  (method override (inside? r vert)
    (let ((distance (vertex-norm (vertex-& vert position))))
      (<= distance (+ (get-radius) r))))))
