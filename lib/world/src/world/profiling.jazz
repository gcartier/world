;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; World Profiling
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.profiling jazz


(import (jazz.syntax)
        (profiler)
        (time))


(definition public (profiling name thunk)
  (case (testing)
    ((profile)
     (with-profile name thunk))
    @w
    ((time)
     (debug 'time name)
     (time (thunk)))
    (else
     (thunk)))))
