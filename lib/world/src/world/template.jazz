;;;===============
;;;  WorldScheme
;;;===============
;;;
;;;; World Template
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012-2016
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.template jazz


(import (world.material)
        (world.polygon))


(class Face-Template extends Object
  
  
  (slot material            <Material>  getter generate)
  (slot texture-coordinates <f32vector> getter generate)
  (slot texture-depth       <fl>        getter generate)
  (slot polygon             <Polygon>   getter generate)
  
  
  (method override (initialize material <Material> texture-coordinates <f32vector> texture-depth <fl> polygon <Polygon>)
    (nextmethod)
    (assert material)
    (set! material~self material)
    (set! texture-coordinates~self texture-coordinates)
    (set! texture-depth~self texture-depth)
    (set! polygon~self polygon))
  
  
  (method public (triangle-count) <fx>
    (triangle-count~ polygon))
  
  
  (method public (add-template-triangles mesher x y z inverse? add)
    (add-template-triangles~ polygon mesher x y z inverse? texture-coordinates texture-depth add))))
