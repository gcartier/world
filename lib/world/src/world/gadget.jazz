;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; World Gadgets
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012-2013
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.gadget jazz


(import (jazz.geometry)
        (jazz.graphic)
        (jazz.graphic.opengl.glew)
        (jazz.io)
        (jazz.library)
        (time)
        (world)
        (world.autoload)
        (world.element)
        (world.entity)
        (world.syntax (phase syntax))
        (world.texture))


(definition gadget-classes
  '())


(definition public (registered-gadgets)
  gadget-classes)

(definition public (register-gadget class)
  (set! gadget-classes (append gadget-classes (list class))))


;;;
;;;; Gadget
;;;


(class Gadget extends Entity
  
  
  (method override (gadget?)
    #t)
  
  
  (method override (element-visible?)
    (let ((world (current-world)))
      (effective-draw-gadgets?~ world)))))
