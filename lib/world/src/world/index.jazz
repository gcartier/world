;;;===============
;;;  WorldScheme
;;;===============
;;;
;;;; World Indexes
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012-2016
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.index jazz


(proclaim (warn optimizations))

(declare (optimize-dead-local-variables))


(definition public inline (make-index) <vector>
  (make-vector 3))


(definition public inline (index-x idx <vector>) <fx>
  (vector-ref idx 0))

(definition public inline (index-y idx <vector>) <fx>
  (vector-ref idx 1))

(definition public inline (index-z idx <vector>) <fx>
  (vector-ref idx 2))


(definition public inline (index-x-set! idx <vector> x <fx>) <void>
  (vector-set! idx 0 x))

(definition public inline (index-y-set! idx <vector> y <fx>) <void>
  (vector-set! idx 1 y))

(definition public inline (index-z-set! idx <vector> z <fx>) <void>
  (vector-set! idx 2 z))


(definition public inline (index! idx <vector> x <fx> y <fx> z <fx>) <vector>
  (index-x-set! idx x)
  (index-y-set! idx y)
  (index-z-set! idx z)
  idx)


(definition public inline (index-copy! dst <vector> src <vector>) <vector>
  (index-x-set! dst (index-x src))
  (index-y-set! dst (index-y src))
  (index-z-set! dst (index-z src))
  dst))
