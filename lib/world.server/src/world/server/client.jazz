;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; Server Client
;;;


(module world.server.client jazz


(import (jazz.debuggee)
        (jazz.io)
        (jazz.jrm)
        (jazz.network)
        (jazz.system)
        (jazz.system.process)
        (world)
        (world.player)
        (world.settings)
        (world.server.configuration)
        (world.server.panel)
        (time))


(class Server-Client extends Object
  
  
  (slot name     initialize #f getter generate)
  (slot avatar   initialize #f accessors generate)
  (slot client   initialize #f getter generate)
  (slot commands initialize #f getter generate)
  
  
  (method override (initialize client)
    (set! name~self (get-name~ client))
    (set! client~self client)
    (reset-commands))
  
  
  (method protected (reset-commands)
    (when (or (not commands) (get-modified?~ commands))
      (set! commands (new Commands))))))
