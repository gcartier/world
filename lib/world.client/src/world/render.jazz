;;;===============
;;;  WorldScheme
;;;===============
;;;
;;;; Rendering
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012-2016
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.render jazz


;;;
;;;; Mutex
;;;


(definition public render-mutex
  (make-mutex 'render))


(definition public (with-render-mutex thunk)
  (mutex-lock! render-mutex)
  (prog1 (thunk)
    (mutex-unlock! render-mutex))))
