;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; Blocks
;;;


(module world.block jazz


(import (jazz.geometry)
        (jazz.graphic)
        (jazz.graphic.opengl.glew)
        (jazz.io)
        (jazz.library)
        (jazz.literals)
        (jazz.media)
        (jazz.network)
        (jazz.platform)
        (jazz.platform.cairo)
        (jazz.runtime)
        (jazz.system)
        (jazz.ui)
        (jazz.ui.dialog)
        (jazz.ui.window)
        (time)
        (world.autoload)
        (world.client.window)
        (world.foreign)
        (world.geometry)
        (world.object)
        (world.sprite)
        (world.texture)
        (world.window))


;;;
;;;; Block
;;;


(class Block extends Sprite
  
  
  (method override (prepare rest)
    (nextmethod rest)
    (set! width 5.)
    (set! height 5.)
    (set! depth 5.)
    (set-texture (get-block-texture~ world))
    (set-color {Color red: 134 green: 82 blue: 1}))
  
  
  (method override (serialize-sprite)
    (list 'block x y z)))


(class Block-Red extends Block
  
  
  (method override (prepare rest)
    (nextmethod rest)
    (set-color {Color Red}))
  
  
  (method override (serialize-sprite)
    (list 'block-red x y z)))


(class Block-Green extends Block
  
  
  (method override (prepare rest)
    (nextmethod rest)
    (set-color {Color Green}))
  
  
  (method override (serialize-sprite)
    (list 'block-green x y z)))


(class Block-Blue extends Block
  
  
  (method override (prepare rest)
    (nextmethod rest)
    (set-color {Color Blue}))
  
  
  (method override (serialize-sprite)
    (list 'block-blue x y z))))
