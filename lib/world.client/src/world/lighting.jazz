;;;===============
;;;  WorldScheme
;;;===============
;;;
;;;; World Lighting
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012-2016
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.lighting jazz


(import (world.dye)
        (world.geometry))


(definition *current-lighting*
  #f)

(definition public (current-lighting)
  *current-lighting*)

(definition public (set-current-lighting lighting)
  (set! *current-lighting* lighting))


(definition *current-block-lighting*
  #f)

(definition public (current-block-lighting)
  *current-block-lighting*)

(definition public (set-current-block-lighting lighting)
  (set! *current-block-lighting* lighting))


;;;
;;;; Lighting
;;;


(class Lighting extends Object
  
  
  (slot ambient-color   <f32vector+> initialize #f                accessors generate)
  (slot lights          <object>     initialize '()               accessors generate)
  (slot lights-count    <fx>         initialize 0                 accessors generate)
  (slot sun-effective   <dye>        initialize (dye 0. 0. 0. 0.) accessors generate)
  (slot sun-coordinates <vertex>     initialize (vertex 0. 0. 0.) accessors generate)))
