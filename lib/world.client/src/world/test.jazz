;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; World Tests
;;;


(module world.test jazz


;;;
;;;; Collision
;;;


(import (world.collision)
        (world.geometry)
        (world.plane)
        (world.polygon))


(define (make-polygon . vertices)
  (bind (v1 v2 v3) vertices
    (new Polygon vertices (new Plane
                            (triangle-center v1 v2 v3)
                            (plane-normal v1 v2 v3)))))


(define sphere-radius
  1.)

(define polygon-list
  (list (make-polygon (vertex 0. 0. 0.) (vertex 5. 0. 0.) (vertex 2.5 2.5 -5.5))))

(define mvt
  (new Movement (vertex 0.0 0.5 5.) (vertex 0. 0. -10.)))

(define last-direction
  #f)

(define filter-pulse-jumps
  #f)


(debug (calc-colliders sphere-radius
                       polygon-list
                       mvt))


(debug (collide-and-slide sphere-radius
                          polygon-list
                          mvt
                          last-direction
                          filter-pulse-jumps)))
