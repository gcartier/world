;;;===============
;;;  WorldScheme
;;;===============
;;;
;;;; World
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012-2018
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world jazz


(import (jazz.io)
        (jazz.network)
        (jazz.settings)
        (jazz.version)
        (time))


;;;
;;;; Hubs
;;;


(hub about-file)
(hub activate)
(hub activate-fly)
(hub activate-ride)
(hub activate-target)
(hub activate-travel)
(hub activate-trek)
(hub actors-task)
(hub add)
(hub add-animation)
(hub add-assets-directory)
(hub add-assets-directory-if-exists)
(hub add-block)
(hub add-block-at)
(hub add-block-at-updating)
(hub add-block-entity)
(hub add-change)
(hub add-directory)
(hub add-element)
(hub add-entity)
(hub add-fall-block)
(hub add-file)
(hub add-ghost)
(hub add-incoming)
(hub add-mark)
(hub add-mesh)
(hub add-model)
(hub add-polygons)
(hub add-sign)
(hub add-slot-index)
(hub add-surface)
(hub add-template-face)
(hub add-template-lighting)
(hub add-template-triangles)
(hub add-triangle)
(hub add-triangles)
(hub add-uniform)
(hub adjust-motion-target)
(hub adjust-player-alpha)
(hub admin-command)
(hub admin-request)
(hub admin-result)
(hub admin-me?)
(hub advance!)
(hub all-animation-names)
(hub all-animations)
(hub alloc-polygon$)
(hub allocate-lightmap)
(hub allocate-neighbors)
(hub allocate-vertices)
(hub ambience-playing?)
(hub anchor->position)
(hub animate)
(hub animate-morphing)
(hub anonymous)
(hub apply-action)
(hub apply-add-block)
(hub apply-add-entity)
(hub apply-delete-block)
(hub apply-double-click)
(hub apply-interact)
(hub apply-remove-entity)
(hub apply-restore-block)
(hub attack-amount)
(hub autostart)
(hub available-templates)
(hub available-zone-base)
(hub available-zone-base?)
(hub available-zones)
(hub backward-history)
(hub bar-height)
(hub bind-buffer)
(hub bind-entity-matrix)
(hub bind-material)
(hub bind-material?)
(hub bind-mesh-matrix)
(hub bind-uniforms)
(hub blink)
(hub blink-backward)
(hub blink-forward)
(hub blit)
(hub block-at)
(hub block/data-at)
(hub block?)
(hub broadcast-processor-draw)
(hub broadcast-processor-update)
(hub cache-camera-pane)
(hub cache-designer)
(hub cache-model)
(hub cache-quad-texture)
(hub cache-rendering)
(hub call-with-position)
(hub call-with-section)
(hub calling-client)
(hub camera-client)
(hub camera-update)
(hub change-ambience)
(hub change-ambience?)
(hub change-animation)
(hub change-camera-smoothing)
(hub change-creature-models?)
(hub change-morphing)
(hub change-music)
(hub change-music?)
(hub change-post-processing)
(hub change-state)
(hub change-vehicle)
(hub change-view-distance)
(hub change-zone)
(hub check-news)
(hub choose-new)
(hub chronological-id)
(hub chronological-marker)
(hub chronological-time)
(hub chunk-access-mutex)
(hub class->class-name)
(hub class-name->class)
(hub clear)
(hub clear-message)
(hub clear-model-cache)
(hub clear-polygons)
(hub client-alive)
(hub client-available-templates)
(hub client-available-zone-base)
(hub client-available-zone-base?)
(hub client-available-zones)
(hub client-change-zone)
(hub client-channel-action)
(hub client-connect)
(hub client-connected-player)
(hub client-connected-players)
(hub client-create-zone)
(hub client-disconnect)
(hub client-enter)
(hub client-exit)
(hub client-log)
(hub client-message)
(hub client-start)
(hub client-stop)
(hub client-update)
(hub client-create-group)
(hub client-delete-group)
(hub client-disband-group)
(hub client-join-group)
(hub client-leave-group)
(hub client-list-group-members)
(hub client-list-hierarchy)
(hub client-register-stream)
(hub client-stream-action)
(hub client-unregister-stream)
(hub close-ambience)
(hub close-music)
(hub close-output)
(hub closest-point-on-perimeter!)
(hub collect-alive)
(hub collect-disconnected)
(hub collect-hierarchy)
(hub collect-models)
(hub collect-modules)
(hub collect-scripts)
(hub collect-textures)
(hub command-slash)
(hub compile-shader)
(hub complete)
(hub compute-gravity)
(hub compute-gravity&)
(hub connected-player)
(hub connected-players)
(hub consume)
(hub control)
(hub copy-polygon)
(hub count-arrows)
(hub count-chunks)
(hub count-floats)
(hub count-laden-sectors)
(hub count-regions)
(hub count-sections)
(hub crafting-panel)
(hub create-array)
(hub create-block-entity)
(hub create-client)
(hub create-selected)
(hub create-server)
(hub create-shader)
(hub create-vertex-buffer)
(hub create-vertices-array)
(hub create-zone)
(hub current-controlled)
(hub cycle-panes)
(hub cycle-selection)
(hub damage)
(hub damage-armor)
(hub damage-bow)
(hub damage-weapon)
(hub deactivate)
(hub deactivate-target)
(hub decode)
(hub decorate)
(hub decorate-biome)
(hub decrease-count)
(hub decrease-missiles)
(hub decrease-sectors-generating)
(hub default-scaling)
(hub delete-block)
(hub delete-block-at)
(hub delete-block-at-updating)
(hub dequeue-event)
(hub derive-target)
(hub describe-target)
(hub design-gaia/world)
(hub designable?)
(hub detach-client)
(hub detach-shaders)
(hub determine-bounds)
(hub die)
(hub display-cancel)
(hub display-error)
(hub display-message)
(hub display-on/off)
(hub display-status)
(hub display-walk-problems)
(hub double-click)
(hub down)
(hub draw)
(hub draw-array)
(hub draw-debug-areas)
(hub draw-debug-sections)
(hub draw-debug-sectors)
(hub draw-mesh)
(hub draw-orientation)
(hub draw-polygons)
(hub draw-showcase)
(hub draw-skybox)
(hub draw-stream-state)
(hub draw-target)
(hub draw-target-circle)
(hub draw-texture)
(hub draw-view)
(hub draw-view-data)
(hub draw-widget)
(hub draw-zone)
(hub drop-action)
(hub effective-controlled)
(hub effective-daytime)
(hub effective-draw-gadgets?)
(hub effective-duration)
(hub effective-matrix&)
(hub effective-music)
(hub effective-player-glow)
(hub element-near)
(hub element-polygons)
(hub element-section-index)
(hub element-visible?)
(hub empty?)
(hub enable-vertex-attrib)
(hub encode)
(hub end-position)
(hub enqueue-event)
(hub enter)
(hub enter-press)
(hub entity-animate?)
(hub entity-meshes)
(hub entity-slot-rank)
(hub evaluate-script)
(hub evaluate-world-hook)
(hub evaluate-zone-hook)
(hub execute-script)
(hub exit-fly)
(hub explode)
(hub explosion-damage?)
(hub extract-animation)
(hub extract-atlas)
(hub extract-bounds)
(hub extract-geometry)
(hub extract-texture)
(hub eye-behind-actor)
(hub eye-behind-player)
(hub eye-center-player)
(hub eye-neighbor-sectors)
(hub fallthrough)
(hub fill)
(hub fill-lightmap)
(hub fill-vertices/neighbors)
(hub filter-slots)
(hub find-animation)
(hub find-avatar)
(hub find-block-entity)
(hub find-block-material)
(hub find-bone)
(hub find-chunk)
(hub find-delegate-by-no)
(hub find-group-member-by-id)
(hub find-group-member-by-no)
(hub find-mesh-program)
(hub find-model)
(hub find-node)
(hub find-part)
(hub find-player)
(hub find-region)
(hub find-role-trait)
(hub find-script)
(hub find-section)
(hub find-showcase)
(hub find-spawnlookat)
(hub find-spawnpoint)
(hub find-texture)
(hub find-texture-file)
(hub fire-aim)
(hub fire-missile)
(hub first-position)
(hub first-target)
(hub flip-polygon)
(hub floor-level)
(hub flying?)
(hub follow-actor)
(hub follow-player)
(hub for-each-bounding-quad$)
(hub forward-history)
(hub free)
(hub free-buffer)
(hub free-lightmap)
(hub free-mesh)
(hub free-morphing)
(hub free-motion)
(hub free-neighbors)
(hub free-polygon$)
(hub free-resources)
(hub free-vertices)
(hub generate)
(hub generate-buffer)
(hub generate-physical)
(hub generate-planet)
(hub generate-skylight)
(hub generate-visual)
(hub generated)
(hub get-N)
(hub get-action-apply)
(hub get-action-count)
(hub get-action-store)
(hub get-actor)
(hub get-actors)
(hub get-aggro-radius)
(hub get-aggro-target)
(hub get-aggroed-creatures)
(hub get-aim?)
(hub get-alive)
(hub get-alive?)
(hub get-alpha)
(hub get-alphamap)
(hub get-ambience?)
(hub get-ambient)
(hub get-ambient-color)
(hub get-ambient?)
(hub get-anchor)
(hub get-animate?)
(hub get-animated?)
(hub get-animation)
(hub get-animation-fps)
(hub get-animation-position)
(hub get-animation-rotation)
(hub get-animations)
(hub get-area-size)
(hub get-areas)
(hub get-armor)
(hub get-array)
(hub get-asset)
(hub get-assets)
(hub get-atlas)
(hub get-attribute)
(hub get-attributes)
(hub get-avatar)
(hub get-axes?)
(hub get-back-facing?)
(hub get-backward-apply)
(hub get-backward-count)
(hub get-backward-store)
(hub get-base)
(hub get-biomes)
(hub get-blendweight)
(hub get-blink-backward?)
(hub get-blink-forward?)
(hub get-block-atlas)
(hub get-block-coverage)
(hub get-block-multitexture)
(hub get-block-opaque)
(hub get-block-program)
(hub get-block-pumps)
(hub get-block-texture)
(hub get-block-texture-repeat)
(hub get-block-transparent)
(hub get-block-water)
(hub get-blocklight)
(hub get-blocks)
(hub get-blue)
(hub get-bone)
(hub get-bone-id)
(hub get-bone-matrices)
(hub get-bone-transformation)
(hub get-boneid)
(hub get-bones)
(hub get-bottom)
(hub get-bounds)
(hub get-brightness)
(hub get-camera-channel)
(hub get-camera-pane)
(hub get-caption)
(hub get-categorized-mesh)
(hub get-category)
(hub get-center)
(hub get-changes)
(hub get-character)
(hub get-character-avatar)
(hub get-character-name)
(hub get-character-script)
(hub get-children)
(hub get-chronology)
(hub get-chunk)
(hub get-client)
(hub get-client-id)
(hub get-client-no)
(hub get-closable?)
(hub get-closer)
(hub get-collected-names)
(hub get-colliders)
(hub get-collisions)
(hub get-color)
(hub get-commands)
(hub get-compass-sheet)
(hub get-configurations)
(hub get-console-pane)
(hub get-constant-attenuation)
(hub get-constantAttenuation)
(hub get-containers)
(hub get-content)
(hub get-controlled)
(hub get-coordinates)
(hub get-count)
(hub get-craftable?)
(hub get-creature-count)
(hub get-creatures)
(hub get-cube-radius)
(hub get-cube?)
(hub get-current)
(hub get-d)
(hub get-dash-duration)
(hub get-data)
(hub get-data1)
(hub get-data2)
(hub get-data3)
(hub get-data4)
(hub get-daylight)
(hub get-day-lightmap)
(hub get-daytime)
(hub get-debug-areas?)
(hub get-debug-sections?)
(hub get-debug-sectors?)
(hub get-default-image)
(hub get-delay)
(hub get-delegates)
(hub get-description)
(hub get-designer)
(hub get-designer-chunk)
(hub get-desired-distance)
(hub get-detail)
(hub get-diffuse)
(hub get-digest)
(hub get-directory)
(hub get-displayed-hook)
(hub get-distance)
(hub get-double-click)
(hub get-down?)
(hub get-draw-atlas?)
(hub get-draw-blocks?)
(hub get-draw-entities?)
(hub get-draw-gadgets?)
(hub get-draw-marks?)
(hub get-draw-me?)
(hub get-draw-normals?)
(hub get-draw-pane)
(hub get-durability)
(hub get-duration)
(hub get-dynamic-lights)
(hub get-earth?)
(hub get-eating)
(hub get-eating-ticks)
(hub get-editable-warned?)
(hub get-editable?)
(hub get-edited)
(hub get-elapse)
(hub get-element)
(hub get-elements)
(hub get-emissive)
(hub get-end)
(hub get-enter-hook)
(hub get-escape-hook)
(hub get-enter-script)
(hub get-entities)
(hub get-entity)
(hub get-entity-class)
(hub get-entity-material)
(hub get-evaluate-future?)
(hub get-evolution)
(hub get-exception)
(hub get-expanse)
(hub get-expanses)
(hub get-explore-interface?)
(hub get-eye)
(hub get-eye-neighbors)
(hub get-faces)
(hub get-fall-blocks)
(hub get-feet-bones)
(hub get-file)
(hub get-filename)
(hub get-fill)
(hub get-first-camera)
(hub get-flat?)
(hub get-floats)
(hub get-fly-saddle)
(hub get-flyers-folio)
(hub get-form)
(hub get-forward-apply)
(hub get-forward-count)
(hub get-forward-store)
(hub get-frame)
(hub get-frame-duration)
(hub get-free-aim?)
(hub get-from)
(hub get-gadgets)
(hub get-generate)
(hub get-generator)
(hub get-generator-revision)
(hub get-generic?)
(hub get-getter)
(hub get-global-matrix)
(hub get-global-matrix2)
(hub get-global-skeleton-matrix)
(hub get-green)
(hub get-grid-plane)
(hub get-grid-position)
(hub get-grid?)
(hub get-group)
(hub get-groups)
(hub get-group-members)
(hub get-h)
(hub get-head)
(hub get-header)
(hub get-height)
(hub get-heightmap)
(hub get-history)
(hub get-history-camera)
(hub get-hit)
(hub get-hits)
(hub get-host)
(hub get-i)
(hub get-id)
(hub get-image)
(hub get-in)
(hub get-index)
(hub get-indexes)
(hub get-indices)
(hub get-input)
(hub get-inputs)
(hub get-interact)
(hub get-interface-bars?)
(hub get-interface-target?)
(hub get-interface?)
(hub get-inventory-blocks)
(hub get-inventory-items)
(hub get-j)
(hub get-jump-impulsion)
(hub get-jump-time)
(hub get-jump?)
(hub get-jumping?)
(hub get-k)
(hub get-key)
(hub get-keyframes)
(hub get-keytime)
(hub get-kind)
(hub get-last-whisperer)
(hub get-lava-blocks)
(hub get-layouter)
(hub get-left/bottom/back)
(hub get-left/bottom/front)
(hub get-left/top/back)
(hub get-left/top/front)
(hub get-length)
(hub get-lens)
(hub get-level-state)
(hub get-li)
(hub get-life)
(hub get-light)
(hub get-lighting?)
(hub get-lightmap)
(hub get-lightmap-buffer)
(hub get-lights)
(hub get-lights-count)
(hub get-linear-attenuation)
(hub get-linearAttenuation)
(hub get-liquid-cube?)
(hub get-list)
(hub get-local-matrix)
(hub get-local-skeleton-matrix)
(hub get-location)
(hub get-lookat)
(hub get-loop-no)
(hub get-manager)
(hub get-map-sheet)
(hub get-material)
(hub get-material-index)
(hub get-material-mesh)
(hub get-material-opaque)
(hub get-material-transparent)
(hub get-materialid)
(hub get-matrix)
(hub get-me)
(hub get-me?)
(hub get-mesh)
(hub get-mesher)
(hub get-meshes)
(hub get-meshes-mask)
(hub get-meshpartid)
(hub get-message)
(hub get-metadata)
(hub get-mic-channel)
(hub get-missile-behavior)
(hub get-missing-items)
(hub get-mode)
(hub get-model)
(hub get-models)
(hub get-modified?)
(hub get-moniker)
(hub get-morphing)
(hub get-morphs)
(hub get-motion)
(hub get-mount)
(hub get-move-backward?)
(hub get-move-down?)
(hub get-move-forward?)
(hub get-move-left?)
(hub get-move-right?)
(hub get-move-up?)
(hub get-moving?)
(hub get-music-style)
(hub get-music-volume)
(hub get-music?)
(hub get-name)
(hub get-name-pane)
(hub get-native)
(hub get-neighbors)
(hub get-neighbors-buffer)
(hub get-night-lightmap)
(hub get-no)
(hub get-node)
(hub get-normal)
(hub get-now)
(hub get-object)
(hub get-objects)
(hub get-occlusion)
(hub get-opacity)
(hub get-opaque-cube?)
(hub get-opaque?)
(hub get-opened-chest)
(hub get-options)
(hub get-ordered-outputs)
(hub get-orientation)
(hub get-orientation?)
(hub get-origin)
(hub get-other-meshes)
(hub get-out)
(hub get-outgoing)
(hub get-output)
(hub get-outputs)
(hub get-overlay)
(hub get-padding)
(hub get-parameter)
(hub get-parent)
(hub get-parent-index)
(hub get-parent-name)
(hub get-parts)
(hub get-path)
(hub get-path-time)
(hub get-paused?)
(hub get-physical)
(hub get-physical?)
(hub get-physicals)
(hub get-plane)
(hub get-player)
(hub get-player-glow)
(hub get-player-spawnpoint)
(hub get-players)
(hub get-polygon)
(hub get-polygons)
(hub get-port)
(hub get-position)
(hub get-position&)
(hub get-position-keys)
(hub get-post-processing?)
(hub get-potency)
(hub get-power)
(hub get-power-factor)
(hub get-power?)
(hub get-prepare-script)
(hub get-present)
(hub get-procedure)
(hub get-processor)
(hub get-program)
(hub get-projection-matrix)
(hub get-properties)
(hub get-prune?)
(hub get-pumps)
(hub get-quad-texture)
(hub get-quadratic-attenuation)
(hub get-quadraticAttenuation)
(hub get-radius)
(hub get-radius-x)
(hub get-radius-y)
(hub get-radius-z)
(hub get-radiuses)
(hub get-ranged-power)
(hub get-ranged-power-factor)
(hub get-rank)
(hub get-raw)
(hub get-ready?)
(hub get-reason)
(hub get-recipe)
(hub get-red)
(hub get-reference-count)
(hub get-region)
(hub get-regions-dir)
(hub get-remote-client)
(hub get-remote-cookie)
(hub get-remote-master)
(hub get-remote-processor)
(hub get-remote-server)
(hub get-remote-udp-server)
(hub get-render?)
(hub get-rendered?)
(hub get-renderer)
(hub get-rendering)
(hub get-repeaters)
(hub get-reserved)
(hub get-resolution)
(hub get-revision)
(hub get-ride-saddle)
(hub get-riders-folio)
(hub get-right)
(hub get-right-mouse)
(hub get-right/bottom/back)
(hub get-right/bottom/front)
(hub get-right/top/back)
(hub get-right/top/front)
(hub get-root)
(hub get-roots)
(hub get-rotate-left?)
(hub get-rotate-right?)
(hub get-rotation)
(hub get-rotation-keys)
(hub get-run-speed)
(hub get-s)
(hub get-s1)
(hub get-s2)
(hub get-s3)
(hub get-s4)
(hub get-saddle)
(hub get-scale)
(hub get-screen-height)
(hub get-screen-width)
(hub get-script)
(hub get-script-pane)
(hub get-script-text)
(hub get-section)
(hub get-sections)
(hub get-sections-table)
(hub get-sector-index)
(hub get-sector-radius)
(hub get-sector/area-ratio)
(hub get-sectors-generated)
(hub get-sectors-generating)
(hub get-selected?)
(hub get-selection)
(hub get-selection-entity)
(hub get-sender)
(hub get-server-host)
(hub get-server-name)
(hub get-server-path)
(hub get-server-service)
(hub get-service)
(hub get-setter)
(hub get-setting)
(hub get-settings)
(hub get-shade)
(hub get-shaderid)
(hub get-shaders)
(hub get-sheet-program)
(hub get-shininess)
(hub get-show-belt?)
(hub get-showcase)
(hub get-sight)
(hub get-signature)
(hub get-size)
(hub get-skybox)
(hub get-skylight)
(hub get-slot-table)
(hub get-sounds)
(hub get-spawner)
(hub get-spawnpoint)
(hub get-specular)
(hub get-speedup)
(hub get-spine)
(hub get-sprint-backward?)
(hub get-sprint-forward?)
(hub get-sprint?)
(hub get-stack)
(hub get-start)
(hub get-start-distance)
(hub get-start-mode)
(hub get-state)
(hub get-status)
(hub get-steps?)
(hub get-subversion)
(hub get-sun-angle)
(hub get-sun-color)
(hub get-sun-coordinates)
(hub get-sun-cycle?)
(hub get-sun-effective)
(hub get-surface)
(hub get-t)
(hub get-tag)
(hub get-tail)
(hub get-tangents)
(hub get-target)
(hub get-target-mode)
(hub get-task)
(hub get-template)
(hub get-texcoord)
(hub get-text)
(hub get-texture)
(hub get-texture-coordinates)
(hub get-texture-depth)
(hub get-texture-elements)
(hub get-texture-name)
(hub get-texture-program)
(hub get-textures)
(hub get-thread)
(hub get-tick)
(hub get-time)
(hub get-time-for-spawn)
(hub get-time-since-last)
(hub get-timeline-sheet)
(hub get-title)
(hub get-to)
(hub get-top)
(hub get-total-frames)
(hub get-touched)
(hub get-trail)
(hub get-trail-color)
(hub get-trail?)
(hub get-transition)
(hub get-translation)
(hub get-translucent-cube?)
(hub get-transparency)
(hub get-tree)
(hub get-triangles)
(hub get-truncate-y)
(hub get-type)
(hub get-udp-client)
(hub get-udp-port)
(hub get-udp-server)
(hub get-udp-tier)
(hub get-unique-spine)
(hub get-unpower)
(hub get-up)
(hub get-uptodate?)
(hub get-use)
(hub get-used)
(hub get-user-data)
(hub get-v)
(hub get-v1)
(hub get-v2)
(hub get-v3)
(hub get-v4)
(hub get-variant-id)
(hub get-variant-mask)
(hub get-vector)
(hub get-vehicle)
(hub get-vehicle-scale)
(hub get-velocity)
(hub get-velocity-angle)
(hub get-version)
(hub get-vertex)
(hub get-vertex-indices)
(hub get-vertex-normals)
(hub get-vertices)
(hub get-vertices-buffer)
(hub get-view)
(hub get-view-distance)
(hub get-view-matrix)
(hub get-view-radius)
(hub get-visual)
(hub get-visuals)
(hub get-voxels)
(hub get-walk-speed)
(hub get-water-blocks)
(hub get-welcome)
(hub get-welcomed?)
(hub get-where)
(hub get-widget-down)
(hub get-widget-part)
(hub get-width)
(hub get-window)
(hub get-world-assets)
(hub get-world-up)
(hub get-x)
(hub get-x-rays-category)
(hub get-x-rays?)
(hub get-y)
(hub get-z)
(hub get-zone)
(hub give)
(hub goto-client)
(hub goto-daytime)
(hub goto-frame)
(hub goto-showcase)
(hub goto-time)
(hub ground-speed)
(hub halt)
(hub halt-entity)
(hub handle-event)
(hub handle-events)
(hub handle-one-event)
(hub has-bones?)
(hub help-file)
(hub hide-bag)
(hub hide-character)
(hub hide-chest)
(hub hide-command)
(hub hierarchy-update)
(hub historical-change-id)
(hub historical-client-id)
(hub historical-forward-index)
(hub historical-metadata)
(hub historical-received)
(hub historical-sent)
(hub historical-time)
(hub history-draw-now?)
(hub history-draw-trail?)
(hub history-end)
(hub history-first)
(hub history-last)
(hub hook-commands)
(hub hook-eye)
(hub horizon-sight!)
(hub ignore-entities?)
(hub ignore-me?)
(hub ignore-players?)
(hub image-file)
(hub image-names)
(hub image-rect)
(hub in-frustum?)
(hub in-showcase?)
(hub increase-count)
(hub increase-li!)
(hub increase-missiles)
(hub increase-sectors-generated)
(hub increase-sectors-generating)
(hub increase-used!)
(hub index-now)
(hub index-section)
(hub indexed-area)
(hub init-lookat)
(hub init-stable)
(hub initial-ambience)
(hub initial-music)
(hub initialize-world)
(hub initialize-zone)
(hub inside?)
(hub install-interface)
(hub install-metadata)
(hub install-role)
(hub install-skybox)
(hub install-stage)
(hub instantiate-elements)
(hub interact-at)
(hub interaction-element)
(hub interface-layout)
(hub invalidate-audio-state)
(hub invalidate-recipes)
(hub inverse-propagate-light)
(hub is-missile?)
(hub is-moving?)
(hub iterate-assets)
(hub iterate-chunks)
(hub iterate-entities)
(hub iterate-gravities)
(hub iterate-lighting)
(hub iterate-neighbor-areas)
(hub iterate-panels)
(hub iterate-polygons)
(hub iterate-position-neighbor-areas)
(hub iterate-section-neighbors)
(hub iterate-sectors)
(hub jump)
(hub key-down)
(hub key-press)
(hub key-up)
(hub last-position)
(hub launch-event)
(hub layout)
(hub layout-outputs)
(hub leave-pane)
(hub lens-center)
(hub linked?)
(hub live-gaia/world)
(hub load-chunk)
(hub load-region)
(hub load-section)
(hub load-section-chunk)
(hub locate)
(hub location)
(hub lock-history-tooltip)
(hub look-at)
(hub main-menu?)
(hub main-menu-destroyed)
(hub make-brother)
(hub make-directory)
(hub make-file)
(hub make-state-entity)
(hub map-texture)
(hub map-texture-array)
(hub map-texture-cube)
(hub maybe-fire)
(hub metadata-install)
(hub missile-hit)
(hub missile-speed)
(hub missile-task)
(hub model-bind-uniforms)
(hub model-renderer)
(hub modified)
(hub motion-target)
(hub mouse-action)
(hub mouse-down)
(hub mouse-moved)
(hub mouse-track)
(hub mouse-up)
(hub mouse-wheel)
(hub move)
(hub move-backward)
(hub move-down)
(hub move-forward)
(hub move-left)
(hub move-panel-down)
(hub move-panel-drag)
(hub move-panel-up)
(hub move-right)
(hub move-selection)
(hub move-up)
(hub moving?)
(hub music-playing?)
(hub mutate)
(hub mutation?)
(hub mute-audio?)
(hub need-script)
(hub news-file)
(hub next-category)
(hub no-showcase)
(hub on-delete)
(hub on-open)
(hub on-selection-change)
(hub on-tab-press)
(hub open-about)
(hub open-selected)
(hub open-welcome)
(hub option-change)
(hub orbit-behind)
(hub package)
(hub pane-distance)
(hub partition-scripts)
(hub pause)
(hub pause-client)
(hub pause-world)
(hub peers-update)
(hub person-motion)
(hub perspective->world)
(hub place-model)
(hub planets?)
(hub plates-update)
(hub play-ambience)
(hub player-camera)
(hub player-output)
(hub player-task)
(hub player-update)
(hub playing?)
(hub polygon-extract!)
(hub polygon-move!)
(hub polygon-transform!)
(hub pop)
(hub populate)
(hub populate-chunk)
(hub populate-zone)
(hub position->anchor)
(hub position-area-index)
(hub position-client)
(hub position-index)
(hub position-section)
(hub position-sector-index)
(hub position-sun)
(hub position-world)
(hub prepare)
(hub prepare-block)
(hub prepare-lightmaps)
(hub prepare-materials)
(hub prepare-modules)
(hub prepare-motion)
(hub prepare-projection)
(hub prepare-scripting)
(hub prepare-template-assets)
(hub prepare-view)
(hub prepare-zone-assets)
(hub previous-category)
(hub process-console)
(hub process-copyright-changed?)
(hub process-copyright-new?)
(hub process-copyright-update)
(hub process-evaluate)
(hub process-hide)
(hub process-move-down)
(hub process-move-up)
(hub process-music)
(hub process-quit)
(hub process-repositories)
(hub process-rotate-left)
(hub process-rotate-right)
(hub process-run)
(hub process-script)
(hub process-setup)
(hub process-shortcut)
(hub process-unit)
(hub processor-draw)
(hub processor-entered)
(hub processor-exited)
(hub processor-log)
(hub processor-quit)
(hub processor-setup)
(hub processor-update)
(hub propagation-slot)
(hub protocol-client)
(hub protocol-simulation)
(hub push)
(hub quad-class)
(hub random-music)
(hub rank->slot)
(hub ray-closest-triangle)
(hub ray-grid-intersection)
(hub ray/distance-closest-vertex)
(hub read-header)
(hub read-tag)
(hub ready-task)
(hub ready?)
(hub realign-lookat)
(hub recalculate-future)
(hub receive-audio)
(hub receive-processor-draw)
(hub receive-video)
(hub redstone-x-rays-mode?)
(hub refresh-interface)
(hub register-draw)
(hub register-id)
(hub register-literal)
(hub register-no)
(hub register-output)
(hub register-parts)
(hub register-section)
(hub register-send-channel)
(hub register-stream)
(hub register-tick)
(hub registered-id)
(hub release)
(hub relink)
(hub relinquish-control)
(hub remote-open)
(hub remove-element)
(hub remove-entity)
(hub remove-eye-occlusion)
(hub remove-skybox)
(hub render)
(hub render-color)
(hub render-frame)
(hub render-interface)
(hub render-outputs)
(hub render-scene)
(hub render-sheet)
(hub render-task)
(hub render-texture)
(hub render-world)
(hub renderable?)
(hub replace-blocks)
(hub report-exception)
(hub require-animation)
(hub reset)
(hub reset-all-marks)
(hub reset-cache)
(hub reset-camera)
(hub reset-elements)
(hub reset-inventory)
(hub reset-layout)
(hub reset-marks)
(hub reset-mesher)
(hub reset-mic)
(hub reset-modified)
(hub reset-roll)
(hub reset-selection)
(hub reset-showcases)
(hub reset-transition)
(hub resize)
(hub resize-scene)
(hub resolve-model)
(hub restore)
(hub restore-client)
(hub restore-desired-distance)
(hub restore-gaia/world)
(hub restore-roll)
(hub restore-server)
(hub restore-world)
(hub resurrect)
(hub resurrect-player)
(hub retrieve-asset)
(hub retrieve-chunk)
(hub retrieve-entity)
(hub retrieve-region)
(hub riding?)
(hub right-mouse-down)
(hub right-mouse-up)
(hub roadmap-file)
(hub rotate)
(hub rotate-actor-horizontal)
(hub rotate-down)
(hub rotate-horizontal)
(hub rotate-left)
(hub rotate-right)
(hub rotate-up)
(hub rotate-upon)
(hub rotate-vertical)
(hub rotate-vertical-up)
(hub run-script)
(hub run-task)
(hub running-handler)
(hub sample-program-image)
(hub sample-texture)
(hub save-designer)
(hub save-level-state)
(hub save-me)
(hub save-region)
(hub save-script)
(hub save-zone)
(hub screen->world)
(hub section-iterate-blocks)
(hub seek)
(hub select)
(hub selected-slot)
(hub selected?)
(hub selection-addable?)
(hub selection-down)
(hub selection-up)
(hub selection-update)
(hub send-client-alive)
(hub send-client-media)
(hub send-client-update)
(hub send-server-media)
(hub send-state)
(hub server-add-channel)
(hub server-audio)
(hub server-entered)
(hub server-exited)
(hub server-message)
(hub server-open)
(hub server-protocol)
(hub server-unregister-stream)
(hub server-video)
(hub set-added)
(hub set-aggro-target)
(hub set-aggroed-creatures)
(hub set-alive)
(hub set-alive?)
(hub set-alpha)
(hub set-ambience?)
(hub set-ambient-color)
(hub set-ambient-gravity)
(hub set-anchor)
(hub set-animate?)
(hub set-animation)
(hub set-animation-active)
(hub set-animation-continuous)
(hub set-animation-fps)
(hub set-animation-next)
(hub set-animation-next-proc)
(hub set-array)
(hub set-atlas)
(hub set-attrib-pointer)
(hub set-audio-sink)
(hub set-avatar)
(hub set-axes?)
(hub set-base)
(hub set-behavior)
(hub set-blendweight)
(hub set-blink-speed)
(hub set-block-pumps)
(hub set-bones)
(hub set-bounds)
(hub set-buffer)
(hub set-callback)
(hub set-camera)
(hub set-camera-channel)
(hub set-camera-pane)
(hub set-character)
(hub set-children)
(hub set-chunk)
(hub set-client)
(hub set-closable?)
(hub set-closer)
(hub set-code)
(hub set-colliders)
(hub set-color)
(hub set-compass-visible?)
(hub set-console-draw)
(hub set-console-pane)
(hub set-content)
(hub set-count)
(hub set-create)
(hub set-creature-count)
(hub set-current)
(hub set-current-frame)
(hub set-data)
(hub set-data1)
(hub set-data2)
(hub set-data3)
(hub set-data4)
(hub set-delay)
(hub set-designer)
(hub set-designer-chunk)
(hub set-digest)
(hub set-displayed-hook)
(hub set-double-click)
(hub set-draw-me?)
(hub set-draw-pane)
(hub set-durability)
(hub set-eating)
(hub set-eating-ticks)
(hub set-editable-warned?)
(hub set-editable?)
(hub set-edited)
(hub set-effective-velocity)
(hub set-elements)
(hub set-end)
(hub set-enter-hook)
(hub set-entity-class)
(hub set-escape-hook)
(hub set-exception)
(hub set-exception-time)
(hub set-expanse)
(hub set-explode)
(hub set-explore-interface?)
(hub set-faces)
(hub set-fall-blocks)
(hub set-fall-velocity)
(hub set-file)
(hub set-fill)
(hub set-flat?)
(hub set-fly-saddle)
(hub set-from)
(hub set-frustum-radius)
(hub set-generate-thread)
(hub set-grass-per-chunk)
(hub set-grid?)
(hub set-groups)
(hub set-height)
(hub set-hit)
(hub set-hover?)
(hub set-id)
(hub set-image)
(hub set-indice)
(hub set-info)
(hub set-interact)
(hub set-interface?)
(hub set-jump-impulsion)
(hub set-jump?)
(hub set-kind)
(hub set-last-whisperer)
(hub set-lava-blocks)
(hub set-lava?)
(hub set-layouter)
(hub set-left/bottom/back)
(hub set-left/bottom/front)
(hub set-left/top/back)
(hub set-left/top/front)
(hub set-life)
(hub set-light)
(hub set-lightmap-data)
(hub set-lights)
(hub set-lights-count)
(hub set-location)
(hub set-lookat)
(hub set-material)
(hub set-materials)
(hub set-matrix)
(hub set-me?)
(hub set-meshes)
(hub set-meshes-mask)
(hub set-mic-channel)
(hub set-missile-behavior)
(hub set-mode)
(hub set-model)
(hub set-model-update)
(hub set-modified?)
(hub set-motion)
(hub set-mount)
(hub set-movable?)
(hub set-move-speed)
(hub set-music-style)
(hub set-music-thread)
(hub set-music-volume)
(hub set-mutated)
(hub set-n1)
(hub set-n2)
(hub set-n3)
(hub set-name)
(hub set-name-pane)
(hub set-native)
(hub set-normal)
(hub set-ongoing-key)
(hub set-opaque?)
(hub set-opened-chest)
(hub set-orientation)
(hub set-origin)
(hub set-output)
(hub set-parent)
(hub set-parent-index)
(hub set-path)
(hub set-path-time)
(hub set-physical-uptodate?)
(hub set-physicals)
(hub set-player)
(hub set-player-spawnpoint)
(hub set-player-thread)
(hub set-position)
(hub set-position-noupdate)
(hub set-post-accept)
(hub set-power)
(hub set-prefix)
(hub set-processor)
(hub set-program)
(hub set-projection)
(hub set-properties)
(hub set-property)
(hub set-pumps)
(hub set-rank)
(hub set-raw)
(hub set-ready?)
(hub set-recipe)
(hub set-removed)
(hub set-render-thread)
(hub set-render?)
(hub set-rendered?)
(hub set-renderer)
(hub set-repeaters)
(hub set-resolution)
(hub set-ride-saddle)
(hub set-right)
(hub set-right/bottom/back)
(hub set-right/bottom/front)
(hub set-right/top/back)
(hub set-right/top/front)
(hub set-rotate-speed)
(hub set-rotation)
(hub set-run-speed)
(hub set-saddle)
(hub set-scale)
(hub set-scaling)
(hub set-screen-height)
(hub set-screen-width)
(hub set-script-pane)
(hub set-section)
(hub set-selected?)
(hub set-selection)
(hub set-setting)
(hub set-shaderid)
(hub set-shaders)
(hub set-sight)
(hub set-size)
(hub set-sounds)
(hub set-spawner)
(hub set-spawnpoint)
(hub set-sprint-speed)
(hub set-sprint?)
(hub set-start)
(hub set-state)
(hub set-steps?)
(hub set-strafe-speed)
(hub set-stream?)
(hub set-subversion)
(hub set-sun-effective)
(hub set-tangents)
(hub set-target)
(hub set-task)
(hub set-teleport)
(hub set-texcoord)
(hub set-text)
(hub set-texture)
(hub set-texture-coordinates)
(hub set-texture-elements)
(hub set-tick)
(hub set-tick?)
(hub set-time-for-spawn)
(hub set-time-since-last)
(hub set-title)
(hub set-to)
(hub set-top)
(hub set-total-frames)
(hub set-touched)
(hub set-trail)
(hub set-trail-color)
(hub set-trail?)
(hub set-transition)
(hub set-transition-duration)
(hub set-transition-elapsed)
(hub set-transition-frame)
(hub set-trees-per-chunk)
(hub set-triangles)
(hub set-type)
(hub set-unpower)
(hub set-up)
(hub set-uptodate?)
(hub set-user-data)
(hub set-vector)
(hub set-velocity)
(hub set-verified?)
(hub set-vertices)
(hub set-vertices-data)
(hub set-view)
(hub set-visual-generating?)
(hub set-visual-revision)
(hub set-visual-uptodate?)
(hub set-visuals)
(hub set-walk-speed)
(hub set-warp-speed)
(hub set-water-blocks)
(hub set-water-lakes?)
(hub set-welcomed?)
(hub set-width)
(hub set-window)
(hub set-window-cursor)
(hub set-y)
(hub set-zone)
(hub setup)
(hub setup-actions)
(hub setup-application-interface)
(hub setup-area-cube)
(hub setup-armor)
(hub setup-array)
(hub setup-array/buffer)
(hub setup-bones)
(hub setup-categorized-mesh)
(hub setup-contours)
(hub setup-history)
(hub setup-interface)
(hub setup-lighting)
(hub setup-me)
(hub setup-mesh)
(hub setup-morphing)
(hub setup-motion)
(hub setup-opengl)
(hub setup-other-meshes)
(hub setup-power)
(hub setup-ranged-power)
(hub setup-section)
(hub shape)
(hub shape-chunk)
(hub show-bag)
(hub show-character)
(hub show-chest)
(hub show-message)
(hub show-properties)
(hub show-welcome)
(hub show-whisper)
(hub showcase-double-click)
(hub showcase-mouse-down)
(hub showcase-mouse-drag)
(hub showcase-mouse-up)
(hub showcase-name)
(hub showcase-wheel)
(hub shutdown)
(hub shutdown-selection)
(hub simulated?)
(hub simulation-task)
(hub size-change)
(hub slave-ready)
(hub slave-setup)
(hub slide-history)
(hub snapshot-metadata)
(hub space)
(hub sprint-backward)
(hub sprint-forward)
(hub stackable?)
(hub start)
(hub start-dash)
(hub start-panel)
(hub start-position)
(hub start-rapid-fire)
(hub start-tasks)
(hub start-to-server)
(hub startup)
(hub step-backward)
(hub step-forward)
(hub step-over)
(hub still-alive?)
(hub stop)
(hub stop-to-server)
(hub stopped)
(hub stopping?)
(hub stream-recipients)
(hub subarea-index)
(hub tab-press)
(hub tab-stops)
(hub take)
(hub target-moveable?)
(hub target-update)
(hub task-run)
(hub teleport)
(hub templates-update)
(hub tick)
(hub tick-actor)
(hub tick-animation)
(hub tick-hostile)
(hub tick-scene)
(hub tick-slice)
(hub tick-sliced)
(hub tick-task)
(hub tier-id->literal)
(hub tier-literal->id)
(hub tiers-update)
(hub tile)
(hub tile-server)
(hub title-update)
(hub toggle-debug-areas)
(hub toggle-debug-sections)
(hub toggle-debug-sectors)
(hub toggle-evolution)
(hub toggle-fly)
(hub toggle-ride)
(hub toggle-timeline)
(hub toggle-vehicle)
(hub toggle-windowed-mode)
(hub tooltip-default-popup?)
(hub top-priority)
(hub track-actor)
(hub track-camera)
(hub transform)
(hub transformation-matrix)
(hub transformed-bounds)
(hub transformed-center)
(hub transformed-height)
(hub transformed-parallelepiped)
(hub transformed-radiuses)
(hub transition-morphing)
(hub trekking?)
(hub triangle-class)
(hub triangle-count)
(hub trim)
(hub truncate-history)
(hub unaggro)
(hub unbind-buffer)
(hub unbind-uniforms)
(hub unimplemented-connected)
(hub uninstall-interface)
(hub uninstall-stage)
(hub unique-zone-assets)
(hub unlink-region)
(hub unlock-history-tooltip)
(hub unpackage)
(hub unpause)
(hub unpause-client)
(hub unpause-world)
(hub unregister-stream)
(hub unregister-tick)
(hub unuse)
(hub update)
(hub update-area-cube)
(hub update-armor)
(hub update-background)
(hub update-category)
(hub update-compass)
(hub update-console-output)
(hub update-coordinates)
(hub update-cube)
(hub update-debugger)
(hub update-entity)
(hub update-filter)
(hub update-gadgets)
(hub update-layouts)
(hub update-matrix)
(hub update-model)
(hub update-parameter)
(hub update-parts)
(hub update-physical)
(hub update-power)
(hub update-ranged-power)
(hub update-stable)
(hub update-state)
(hub update-target-panel)
(hub update-view-distance)
(hub update-visual)
(hub update-volume)
(hub update-window-cursor)
(hub update-workspace)
(hub update-world-up)
(hub updating-sections)
(hub use)
(hub use-arrow)
(hub vehicle-name)
(hub vehicle-speed)
(hub verify-recipe)
(hub verify-recipes)
(hub verify-reload-models)
(hub verify-water)
(hub view-bindings)
(hub view-chest)
(hub view-health)
(hub view-info)
(hub view-inventory)
(hub view-players)
(hub view-sites)
(hub view-target)
(hub view-tiers)
(hub virtual?)
(hub visit-ref)
(hub visit-set!)
(hub wait-event)
(hub warp)
(hub warp-backward)
(hub warp-forward)
(hub welcome?)
(hub well-mass)
(hub widget-mouse-down)
(hub widget-mouse-move)
(hub widget-mouse-up)
(hub with-chunk-designer)
(hub with-designer)
(hub with-index)
(hub with-mutex)
(hub with-polygon-interaction)
(hub with-slide)
(hub without-roll)
(hub world->screen)
(hub wound)
(hub write-element)
(hub write-tag)
(hub x-rays-mode?)
(hub zone-destructible?)
(hub zone-editable?)
(hub zone-path)
(hub zone-ready)
(hub zone-regenerate)
(hub zone-update)
(hub zones-dir)
(hub zoom-in)
(hub zoom-out)


;;;
;;;; Timezone
;;;


;; set timezone to eastern until adjusted
(let ((timezone (lambda () -18000)))
  (system-timezone-set! timezone)
  (local-timezone-set! timezone))


;;;
;;;; Setup
;;;


(definition process-kind
  #f)

(definition public (get-process-kind)
  process-kind)

(definition protected (set-process-kind value)
  (set! process-kind value))

(definition public (process?)
  (eq? process-kind 'process))

(definition public (application?)
  (eq? process-kind 'application))


(definition protected *window?*
  #f)

(definition public (window?)
  *window?*)

(definition public (set-window? window?)
  (set! *window?* window?))


(definition public tier-kind
  #f)

(definition protected (set-tier-kind kind)
  (set! tier-kind kind))

(definition public (standalone?)
  (eq? tier-kind 'standalone))

(definition public (client?)
  (eq? tier-kind 'client))

(definition public (server?)
  (eq? tier-kind 'server))

(definition public (processor?)
  (eq? tier-kind 'processor))

(definition public (processing?)
  (or (eq? tier-kind 'server)
      (eq? tier-kind 'processor)))

(definition public (worker?)
  (eq? tier-kind 'worker))


(definition public tier-title
  #f)

(definition protected (set-tier-title title)
  (set! tier-title title))


(definition public client-id
  #f)

(definition public client-no <fx>
  -1)

(definition protected (set-client-id/no id no <fx>)
  (set! client-id id)
  (set! client-no no))


(definition settings-root
  #f)

(definition public (get-settings-root)
  settings-root)

(definition public (set-settings-root root)
  (set! settings-root root))


(definition settings-alias
  #f)

(definition public (get-settings-alias)
  settings-alias)

(definition public (set-settings-alias alias)
  (set! settings-alias alias))


(definition settings-setup
  #f)

(definition public (get-settings-setup)
  settings-setup)

(definition public (set-settings-setup setup)
  (set! settings-setup setup))


(definition settings-override
  #f)

(definition public (get-settings-override)
  settings-override)

(definition public (set-settings-override override)
  (set! settings-override override))


(definition protected aliases-setup
  #f)

(definition public (set-aliases-setup setup)
  (set! aliases-setup setup))


(definition valid-roles
  '())

(definition public (get-valid-roles)
  valid-roles)

(definition public (set-valid-roles roles)
  (set! valid-roles roles))


(definition public together?
  #f)

(definition public (set-together? flag)
  (set! together? flag))


;;;
;;;; Tier
;;;


;; delay so these can be run outside of loading the
;; settings module so we do not block the load mutex


(definition protected start-tier-listener
  #f)

(definition protected (start-tier-listener-set! thunk)
  (set! start-tier-listener thunk))


(definition protected connect-slave-to-master
  #f)

(definition protected (connect-slave-to-master-set! thunk)
  (set! connect-slave-to-master thunk))


;;;
;;;; Client
;;;


(definition protected fullscreen?
  (boolean-argument "fullscreen" 'default))


(definition public sleeping?
  #f)

(definition public (set-sleeping? flag)
  (set! sleeping? flag))


;;;
;;;; Server
;;;


(definition server-filename
  #f)

(definition public (get-server-filename)
  server-filename)

(definition public (set-server-filename filename)
  (set! server-filename filename))


;;;
;;;; Processor
;;;


(definition processor-filename
  #f)

(definition public (get-processor-filename)
  processor-filename)

(definition public (set-processor-filename filename)
  (set! processor-filename filename))


;;;
;;;; Worker
;;;


(definition worker-filename
  #f)

(definition public (get-worker-filename)
  worker-filename)

(definition public (set-worker-filename filename)
  (set! worker-filename filename))


;;;
;;;; Version
;;;


(definition public world-version
  {Version 1 1})

(definition public zone-version
  {Version 1 4})


;;;
;;;; AeC
;;;


(definition public aec-host
  "centro.iro.umontreal.ca")

(definition public aec-service
  50000)


;;;
;;;; Test
;;;


(definition public open-test?
  #f)

(definition public (set-open-test? flag)
  (set! open-test? flag))


(definition public open-test-host
  "centro.iro.umontreal.ca")

(definition public open-test-service
  50000)


;;;
;;;; Server
;;;


(definition public default-server-listen
  #f)

(definition public default-server-host
  localhost)

(definition public default-server-service
  (cond-expand (prod  50300)
               (stage 50200)
               (test  50100)
               (else  50000)))


(definition public default-server
  "Local")

(definition public (set-default-server server)
  (set! default-server server))


;;;
;;;; Boot
;;;


(definition public boot-process
  #f)

(definition public (set-boot-process boot)
  (set! boot-process boot))


;;;
;;;; Domain
;;;


(definition protected domain-names
  (make-table test: eq?))


(definition public (registered-domain-name name (default #f))
  (table-ref domain-names name default))

(definition public (register-domain-name name value)
  (table-set! domain-names name value)))
