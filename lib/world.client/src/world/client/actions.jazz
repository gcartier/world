;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; World Client Actions
;;;


(module world.client.actions jazz


(import (jazz.jml)
        (jazz.library)
        (jazz.ui))


;;;
;;;; Actions
;;;


(class World-Actions extends Actions)


;;;
;;;; Interface
;;;


(class World-Interface-Actions extends World-Actions
  
  
  (form
    (<install>       title: "Interface"
      (<Action-Item> title: "World menu" action-handler: {Event-Handler :world on-menu} shortcut: {Shortcut Escape})
      (<Action-Item> title: "Toggle interface" action-handler: {Event-Handler :world on-toggle-interface} shortcut: {Shortcut #\Z})
      (<Action-Item> title: "Toggle counters" action-handler: {Event-Handler :world on-toggle-counters} shortcut: {Shortcut #\-})
      (<Action-Item> title: "Reset counters" action-handler: {Event-Handler :world on-reset-counters} shortcut: {Shortcut #\_}))))


;;;
;;;; Graphics
;;;


(class World-Graphics-Actions extends World-Actions
  
  
  (form
    (<install>       title: "Graphics"
      (<Action-Item> title: "Toggle lighting" action-handler: {Event-Handler :world on-toggle-lighting} shortcut: {Shortcut #\L})
      (<Action-Item> title: "Toggle projection" action-handler: {Event-Handler :world on-toggle-projection} shortcut: {Shortcut #\V})
      (<Action-Item> title: "Toggle gadgets" action-handler: {Event-Handler :world on-toggle-draw-gadgets} shortcut: {Shortcut #\G})
      (<Action-Item> title: "Toggle elements" action-handler: {Event-Handler :world on-toggle-draw-elements} shortcut: {Shortcut #\J})
      (<Action-Item> title: "Toggle textures" action-handler: {Event-Handler :world on-toggle-textures} shortcut: {Shortcut #\T})
      (<Action-Item> title: "Toggle use pack" action-handler: {Event-Handler :world on-toggle-use-pack} shortcut: {Shortcut #\K})
      (<Action-Item> title: "Toggle tile stiches" action-handler: {Event-Handler :world on-toggle-tile-stiches} shortcut: {Shortcut #\5})
      (<Action-Item> title: "Toggle post processing" action-handler: {Event-Handler :world on-toggle-post-processing} shortcut: {Shortcut #\.}))))


;;;
;;;; Sound
;;;


(class World-Sound-Actions extends World-Actions
  
  
  (form
    (<install>       title: "Sound"
      (<Action-Item> title: "Change music" action-handler: {Event-Handler :world on-change-music} shortcut: {Shortcut #\M}))))


;;;
;;;; Server
;;;


(class World-Server-Actions extends World-Actions
  
  
  (form
    (<install>       title: "Server"
      (<Action-Item> title: "Connect to server" action-handler: {Event-Handler :world on-connect-to-server} shortcut: {Shortcut #\;})
      (<Action-Item> title: "Disconnect from server" action-handler: {Event-Handler :world on-disconnect-from-server} shortcut: {Shortcut :shift #\;})
      (<Action-Item> title: "Request server update" action-handler: {Event-Handler :world on-request-server-update} shortcut: {Shortcut #\Y}))))


;;;
;;;; World
;;;


(class World-World-Actions extends World-Actions
  
  
  (form
    (<install>       title: "World"
      (<Action-Item> title: "Open world" action-handler: {Event-Handler :world on-world-open} shortcut: {Shortcut :control #\O}))))


;;;
;;;; Zone
;;;


(class World-Zone-Actions extends World-Actions
  
  
  (form
    (<install>       title: "Zone"
      (<Action-Item> title: "New zone" action-handler: {Event-Handler :world on-zone-new} shortcut: {Shortcut :control #\N})
      (<Action-Item> title: "Open zone" action-handler: {Event-Handler :world on-zone-open} shortcut: {Shortcut :control #\L})
      (<Action-Item> title: "Open zone reversed" action-handler: {Event-Handler :world on-zone-open reversed?: #t} shortcut: {Shortcut :control :shift #\L})
      (<Action-Item> title: "Save zone" action-handler: {Event-Handler :world on-zone-save} shortcut: {Shortcut :control #\S})
      (<Action-Item> title: "Save zone as" action-handler: {Event-Handler :world on-zone-save-as} shortcut: {Shortcut :control :shift #\S})
      (<Action-Item> title: "Save player" action-handler: {Event-Handler :world on-save-player} shortcut: {Shortcut :control :alt #\S})
      (<Action-Item> title: "Revert zone" action-handler: {Event-Handler :world on-zone-revert} shortcut: {Shortcut :control #\R}))))


;;;
;;;; Movement
;;;


(class World-Movement-Actions extends World-Actions
  
  
  (form
    (<install> title: "Movement"
      (<Action-Item> title: "Move forward" action-handler: {Event-Handler :world on-move-left} shortcut: {Shortcut #\W})
      (<Action-Item> title: "Move backward" action-handler: {Event-Handler :world on-move-left} shortcut: {Shortcut #\S})
      (<Action-Item> title: "Turn left" action-handler: {Event-Handler :world on-move-left} shortcut: {Shortcut #\A})
      (<Action-Item> title: "Turn right" action-handler: {Event-Handler :world on-move-left} shortcut: {Shortcut #\D})
      (<Action-Item> title: "Strafe left" action-handler: {Event-Handler :world on-move-left} shortcut: {Shortcut #\Q})
      (<Action-Item> title: "Strafe right" action-handler: {Event-Handler :world on-move-left} shortcut: {Shortcut #\E}))))


;;;
;;;; Camera
;;;


(class World-Camera-Actions extends World-Actions
  
  
  (form
    (<install>       title: "Camera"
      (<Action-Item> title: "Strafe up" action-handler: {Event-Handler :world on-move-left} shortcut: {Shortcut #\R} alternate-shortcut: {Shortcut Space})
      (<Action-Item> title: "Strafe down" action-handler: {Event-Handler :world on-move-left} shortcut: {Shortcut #\X})
      (<Action-Item> title: "First person" action-handler: {Event-Handler :world on-first-person} shortcut: {Shortcut :alt #\1})
      (<Action-Item> title: "Toggle 3d" action-handler: {Event-Handler :world on-toggle-3d} shortcut: {Shortcut :alt #\3})
      (<Action-Item> title: "Change first camera" action-handler: {Event-Handler :world on-change-first-camera} shortcut: {Shortcut :alt #\8}))))


;;;
;;;; Game
;;;


(class World-Game-Actions extends World-Actions
  
  
  (form
    (<install>       title: "Game"
      (<Action-Item> title: "Jump" action-handler: {Event-Handler :world on-move-left} shortcut: {Shortcut Space})
      (<Action-Item> title: "Fire" action-handler: {Event-Handler :world on-move-left} shortcut: {Shortcut #\1})
      (<Action-Item> title: "Toggle aim" action-handler: {Event-Handler :world on-toggle-aim} shortcut: {Shortcut #\7})
      (<Action-Item> title: "Toggle mount" action-handler: {Event-Handler :world on-change-ground-mount} shortcut: {Shortcut #\R})
      (<Action-Item> title: "Toggle fly" action-handler: {Event-Handler :world on-toggle-fly} shortcut: {Shortcut #\F})
      (<Action-Item> title: "Change missile behavior" action-handler: {Event-Handler :world on-change-missile-behavior} shortcut: {Shortcut :control #\H}))))


;;;
;;;; Edition
;;;


(class World-Edition-Actions extends World-Actions
  
  
  (form
    (<install>       title: "Edition"
      (<Action-Item> title: "Delete target" action-handler: {Event-Handler :world on-remove-target} shortcut: {Shortcut Delete} alternate-shortcut: {Shortcut Backspace})
      (<Action-Item> title: "Toggle grid" action-handler: {Event-Handler :world on-toggle-grid} shortcut: {Shortcut :control #\G})
      (<Action-Item> title: "Toggle Z grid" action-handler: {Event-Handler :world on-toggle-grid-plane plane: z} shortcut: {Shortcut :control #\1})
      (<Action-Item> title: "Toggle Y grid" action-handler: {Event-Handler :world on-toggle-grid-plane plane: y} shortcut: {Shortcut :control #\2})
      (<Action-Item> title: "Toggle X grid" action-handler: {Event-Handler :world on-toggle-grid-plane plane: x} shortcut: {Shortcut :control #\3})
      (<Action-Item> title: "Decrease grid position" action-handler: {Event-Handler :world on-decrease-grid} shortcut: {Shortcut :control Left})
      (<Action-Item> title: "Increase grid position" action-handler: {Event-Handler :world on-increase-grid} shortcut: {Shortcut :control Right})
      (<Action-Item> title: "Change element class" action-handler: {Event-Handler :world on-change-element-class} shortcut: {Shortcut :control Tab})
      (<Action-Item> title: "Change element class reversed" action-handler: {Event-Handler :world on-change-element-class reversed?: #t} shortcut: {Shortcut :control :shift Tab})
      (<Action-Item> title: "Change shader" action-handler: {Event-Handler :world on-change-tile-program} shortcut: {Shortcut :control Space})
      (<Action-Item> title: "Change shader reversed" action-handler: {Event-Handler :world on-change-tile-program reversed?: #t} shortcut: {Shortcut :control :shift Space})
      (<Action-Item> title: "Change tile texture" action-handler: {Event-Handler :world on-change-tile-texture} shortcut: {Shortcut :control #\B})
      (<Action-Item> title: "Change tile texture reversed" action-handler: {Event-Handler :world on-change-tile-texture reversed?: #t} shortcut: {Shortcut :control :shift #\B})
      (<Action-Item> title: "Change texture" action-handler: {Event-Handler :world on-change-texture} shortcut: {Shortcut :control #\T})
      (<Action-Item> title: "Change texture reversed" action-handler: {Event-Handler :world on-change-texture reversed?: #t} shortcut: {Shortcut :control :shift #\T})
      (<Action-Item> title: "Change editor mode" action-handler: {Event-Handler :world on-change-editor-mode} shortcut: {Shortcut :control #\W})
      (<Action-Item> title: "Change editor mode reversed" action-handler: {Event-Handler :world on-change-editor-mode reversed?: #t} shortcut: {Shortcut :control :shift #\W})
      (<Action-Item> title: "Change target mode" action-handler: {Event-Handler :world on-change-target-mode} shortcut: {Shortcut :control #\E})
      (<Action-Item> title: "Change target mode reversed" action-handler: {Event-Handler :world on-change-target-mode reversed?: #t} shortcut: {Shortcut :control :shift #\E})
      (<Action-Item> title: "Set element template" action-handler: {Event-Handler :world on-set-element-template} shortcut: {Shortcut :control #\C})
      (<Action-Item> title: "Unset element template" action-handler: {Event-Handler :world on-unset-element-template} shortcut: {Shortcut :control :shift #\C})
      (<Action-Item> title: "Set texture template" action-handler: {Event-Handler :world on-set-texture-template} shortcut: {Shortcut :control :alt #\C})
      (<Action-Item> title: "Unset texture template" action-handler: {Event-Handler :world on-unset-texture-template} shortcut: {Shortcut :control :shift :alt #\C}))))


;;;
;;;; History
;;;


(class World-History-Actions extends World-Actions
  
  
  (form
    (<install>       title: "History"
      (<Action-Item> title: "Toggle paused" action-handler: {Event-Handler :world on-toggle-paused} shortcut: {Shortcut #\P})
      (<Action-Item> title: "Backward history" action-handler: {Event-Handler :world on-backward-history} shortcut: {Shortcut #\[})
      (<Action-Item> title: "Forward history" action-handler: {Event-Handler :world on-forward-history} shortcut: {Shortcut #\]})
      (<Action-Item> title: "Step history" action-handler: {Event-Handler :world on-step-world} shortcut: {Shortcut Return})
      (<Action-Item> title: "Toggle history" action-handler: {Event-Handler :world on-toggle-history} shortcut: {Shortcut #\H})
      (<Action-Item> title: "Reset history" action-handler: {Event-Handler :world on-reset-history} shortcut: {Shortcut :shift #\H}))))


;;;
;;;; Window
;;;


(class World-Window-Actions extends World-Actions
  
  
  (form
    (<install>       title: "Window"
      (<Action-Item> title: "Live setup" action-handler: {Event-Handler :world on-live-gaia/world} shortcut: {Shortcut F9} alternate-shortcut: {Shortcut :control :alt F9})
      (<Action-Item> title: "Design setup" action-handler: {Event-Handler :world on-design-gaia/world} shortcut: {Shortcut F10} alternate-shortcut: {Shortcut :control :alt F10})
      (<Action-Item> title: "Windowed" action-handler: {Event-Handler :world on-toggle-windowed-mode} shortcut: {Shortcut F11} alternate-shortcut: {Shortcut :control :alt F11})
      (<Action-Item> title: "Restore" action-handler: {Event-Handler :world on-restore-gaia/world} shortcut: {Shortcut F12} alternate-shortcut: {Shortcut :control :alt F12}))))


;;;
;;;; Debug
;;;


(class World-Debug-Actions extends World-Actions
  
  
  (form
    (<install>       title: "Debug"
      (<Action-Item> title: "Toggle axes" action-handler: {Event-Handler :world on-toggle-axes} shortcut: {Shortcut #\=})
      (<Action-Item> title: "Toggle info" action-handler: {Event-Handler :world on-toggle-info} shortcut: {Shortcut #\I})
      (<Action-Item> title: "Toggle eye" action-handler: {Event-Handler :world on-toggle-eye} shortcut: {Shortcut #\8})
      (<Action-Item> title: "Toggle areas" action-handler: {Event-Handler :world on-toggle-debug-areas} shortcut: {Shortcut #\6})
      (<Action-Item> title: "Toggle draw pack" action-handler: {Event-Handler :world on-toggle-draw-pack} shortcut: {Shortcut :control #\K})
      (<Action-Item> title: "Toggle evaluation" action-handler: {Event-Handler :world on-toggle-evaluation} shortcut: {Shortcut #\\})
      (<Action-Item> title: "Reset all marks" action-handler: {Event-Handler :world on-reset-all-marks} shortcut: {Shortcut :control #\M})
      (<Action-Item> title: "Clear terminal" action-handler: {Event-Handler :world on-clear-terminal} shortcut: {Shortcut #\C})
      (<Action-Item> title: "Garbage collect" action-handler: {Event-Handler :world on-garbage-collect} shortcut: {Shortcut :alt #\C})
      (<Action-Item> title: "Explore interface" action-handler: {Event-Handler :world on-explore-interface} shortcut: {Shortcut F8})
      (<Action-Item> title: "Remove duplicate blocks" action-handler: {Event-Handler :world on-remove-duplicate-blocks} shortcut: {Shortcut :control :alt #\D})
      (<Action-Item> title: "Run test #1" action-handler: {Event-Handler :world on-test1} shortcut: {Shortcut :control :alt #\1})
      (<Action-Item> title: "Run test #2" action-handler: {Event-Handler :world on-test2} shortcut: {Shortcut :control :alt #\2})
      (<Action-Item> title: "Run test #3" action-handler: {Event-Handler :world on-test3} shortcut: {Shortcut :control :alt #\3})
      (<Action-Item> title: "Run test #4" action-handler: {Event-Handler :world on-test4} shortcut: {Shortcut :control :alt #\4})
      (<Action-Item> title: "Run test #5" action-handler: {Event-Handler :world on-test5} shortcut: {Shortcut :control :alt #\5})
      (<Action-Item> title: "Run test #6" action-handler: {Event-Handler :world on-test6} shortcut: {Shortcut :control :alt #\6})
      (<Action-Item> title: "Run test #7" action-handler: {Event-Handler :world on-test7} shortcut: {Shortcut :control :alt #\7})
      (<Action-Item> title: "Run test #8" action-handler: {Event-Handler :world on-test8} shortcut: {Shortcut :control :alt #\8})
      (<Action-Item> title: "Run test #9" action-handler: {Event-Handler :world on-test9} shortcut: {Shortcut :control :alt #\9})
      (<Action-Item> title: "Run test #0" action-handler: {Event-Handler :world on-test0} shortcut: {Shortcut :control :alt #\0})))))
