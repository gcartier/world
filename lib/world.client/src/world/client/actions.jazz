;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; World Client Actions
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012-2013
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.client.actions jazz


(import (jazz.jml)
        (jazz.library)
        (jazz.ui))


;;;
;;;; Actions
;;;


(class World-Actions extends Actions)


(class World-Action-Item extends Action-Item
  
  
  (property description initialize #f accessors generate))


;;;
;;;; Menu
;;;


(class World-Menu-Actions extends World-Actions
  
  
  (form
    (<install>                                                title: "Menu"
      (<World-Action-Item> name: main-menu                    title: "Main menu" action-handler: {Event-Handler :world on-main-menu} shortcut: {Shortcut Escape} description: "Show main menu.")
      (<World-Action-Item> name: video-options                title: "Video Options" action-handler: {Event-Handler :world on-video-options} description: "Show video options used to control graphics quality.")
      (<World-Action-Item> name: audio-options                title: "Audio Options" action-handler: {Event-Handler :world on-audio-options} description: "Show audio options used to control sounds and music.")
      (<World-Action-Item> name: interface-options            title: "Interface Options" action-handler: {Event-Handler :world on-interface-options} description: "Show general interface options.")
      (<World-Action-Item> name: bindings-viewer              title: "Key Bindings" action-handler: {Event-Handler :world on-view-bindings} description: "Show keyboard shortcuts")
      (<World-Action-Item> name: view-news                    title: "News" action-handler: {Event-Handler :world on-view-news} description: "Show latest news.")
      (<World-Action-Item> name: view-roadmap                 title: "Roadmap" action-handler: {Event-Handler :world on-view-roadmap} description: "Show roadmap of planned features.")
      (<World-Action-Item> name: view-help                    title: "Help" action-handler: {Event-Handler :world on-view-help} description: "Show help.")
      (<World-Action-Item> name: open-tutorial                title: "Tutorial" action-handler: {Event-Handler :world on-open-tutorial} description: "Open the tutorial zone.")
      (<World-Action-Item> name: exit-world                   title: "Exit Game" action-handler: {Event-Handler :world on-exit-world} shortcut: {Shortcut :alt F4} description: "Exit Game."))))


;;;
;;;; Interface
;;;


(class World-Interface-Actions extends World-Actions
  
  
  (form
    (<install>                                                title: "Interface"
      (<World-Action-Item> name: toggle-mode                  title: "Mode" action-handler: {Event-Handler :world on-toggle-mode} shortcut: {Shortcut F5} description: "Toggle between edition and game mode.")
      (<World-Action-Item> name: toggle-interface             title: "Interface" action-handler: {Event-Handler :world on-toggle-interface} shortcut: {Shortcut #\Z} description: "Show user interface.")
      (<World-Action-Item> name: run-script                   title: "Run script" action-handler: {Event-Handler :world on-select/run-script} shortcut: {Shortcut :alt #\R} description: "Choose a script from the assets folder and run it.")
      (<World-Action-Item> name: run-last-script              title: "Run last script" action-handler: {Event-Handler :world on-run-last-script} shortcut: {Shortcut #\R} description: "Rerun last script."))))


;;;
;;;; Graphics
;;;


(class World-Graphics-Actions extends World-Actions
  
  
  (form
    (<install>                                          title: "Graphics"
      (<World-Action-Item> name: toggle-lighting        title: "Lighting" action-handler: {Event-Handler :world on-toggle-lighting} shortcut: {Shortcut #\L} description: "Light the world using the ligth gadgets present.")
      (<World-Action-Item> name: toggle-fog             title: "Fog" action-handler: {Event-Handler :world on-toggle-fog} shortcut: {Shortcut #\O} description: "Toggle distance fog.")
      (<World-Action-Item> name: toggle-projection      title: "Projection" action-handler: {Event-Handler :world on-toggle-projection} shortcut: {Shortcut #\V} description: "Toggle between perspective and orthographic projection.")
      (<World-Action-Item> name: toggle-gadgets         title: "Gadgets" action-handler: {Event-Handler :world on-toggle-draw-gadgets} shortcut: {Shortcut #\G} description: ("Toggle display of gadgets." "" (<paragraph> "Gadgets are action elements not displayed in-game.")))
      (<World-Action-Item> name: toggle-normals         title: "Normals" action-handler: {Event-Handler :world on-toggle-draw-normals} shortcut: {Shortcut :alt #\N} description: "Toggle display of normals on target faces.")
      (<World-Action-Item> name: toggle-elements        title: "Elements" action-handler: {Event-Handler :world on-toggle-draw-elements} shortcut: {Shortcut #\J} description: "Toggle display of elements.")
      (<World-Action-Item> name: toggle-post-processing title: "Post processing" action-handler: {Event-Handler :world on-toggle-post-processing} shortcut: {Shortcut #\period} description: ("Toggle post processing." "" (<paragraph> "Post processing can reduce jagged lines."))))))


;;;
;;;; Sound
;;;


(class World-Sound-Actions extends World-Actions
  
  
  (form
    (<install>                                title: "Sound"
      (<World-Action-Item> name: change-music title: "Change music" action-handler: {Event-Handler :world on-change-music} shortcut: {Shortcut #\M} description: "Change music."))))


;;;
;;;; Server
;;;


(class World-Server-Actions extends World-Actions
  
  
  (form
    (<install>                                          title: "Server"
      (<World-Action-Item> name: connect-to-server      title: "Connect to server" action-handler: {Event-Handler :world on-connect-to-server} shortcut: {Shortcut #\semi-colon} description: "Connect to server.")
      (<World-Action-Item> name: disconnect-from-server title: "Disconnect from server" action-handler: {Event-Handler :world on-disconnect-from-server} shortcut: {Shortcut :shift #\semi-colon} description: "Disconnect from server.")
      (<World-Action-Item> name: request-server-update  title: "Request server update" action-handler: {Event-Handler :world on-request-server-update} shortcut: {Shortcut #\Y} description: "Request server update."))))


;;;
;;;; World
;;;


(class World-World-Actions extends World-Actions
  
  
  (form
    (<install>                                       title: "World"
      (<World-Action-Item> name: world-new           title: "New world" action-handler: {Event-Handler :world on-world-new} description: "Create a new empty world.")
      (<World-Action-Item> name: world-open          title: "Open world" action-handler: {Event-Handler :world on-world-open} shortcut: {Shortcut :control #\L} description: "Open a saved world.")
      (<World-Action-Item> name: world-save          title: "Save world" action-handler: {Event-Handler :world on-world-save} description: "Save the current world.")
      (<World-Action-Item> name: world-save-as       title: "Save world as" action-handler: {Event-Handler :world on-world-save-as} description: "Save the current world to a new destination.")
      (<World-Action-Item> name: world-revert        title: "Revert world" action-handler: {Event-Handler :world on-world-revert} description: "Revert world to its previous saved state."))))


;;;
;;;; Zone
;;;


(class World-Zone-Actions extends World-Actions
  
  
  (form
    (<install>                                      title: "Zone"
      (<World-Action-Item> name: zone-new           title: "New zone" action-handler: {Event-Handler :world on-zone-new} shortcut: {Shortcut :control #\N} description: "Create a new empty zone.")
      (<World-Action-Item> name: zone-open          title: "Open zone" action-handler: {Event-Handler :world on-zone-open} shortcut: {Shortcut :control #\O} description: "Open a saved zone.")
      (<World-Action-Item> name: zone-open          title: "Open zone content" action-handler: {Event-Handler :world on-zone-content} shortcut: {Shortcut :control :shift #\O} description: "Open a saved zone not running it start script.")
      (<World-Action-Item> name: zone-save          title: "Save zone" action-handler: {Event-Handler :world on-zone-save} shortcut: {Shortcut :control #\S} description: "Save the current zone.")
      (<World-Action-Item> name: zone-save-as       title: "Save zone as" action-handler: {Event-Handler :world on-zone-save-as} shortcut: {Shortcut :control :shift #\S} description: "Save the current zone to a new destination.")
      (<World-Action-Item> name: save-player&camera title: "Save player & camera" action-handler: {Event-Handler :world on-save-player&camera} shortcut: {Shortcut :control :alt #\S} description: "Save player position and camera direction.")
      (<World-Action-Item> name: zone-revert        title: "Revert zone" action-handler: {Event-Handler :world on-zone-revert} shortcut: {Shortcut :control :alt #\R} description: "Revert zone to its previous saved state."))))


;;;
;;;; Movement
;;;


(class World-Movement-Actions extends World-Actions
  
  
  (form
    (<install>                                 title: "Movement"
      (<World-Action-Item> name: rotate-player title: "Rotate player" shortcut: {Shortcut RightDrag} description: "Rotate player.")
      (<World-Action-Item> name: move-forward  title: "Move forward" shortcut: {Shortcut #\W} alternate-shortcut: {Shortcut Up} description: "Move forward.")
      (<World-Action-Item> name: move-backward title: "Move backward" shortcut: {Shortcut #\S} alternate-shortcut: {Shortcut Down} description: "Move backward.")
      (<World-Action-Item> name: rotate-left   title: "Turn left" shortcut: {Shortcut #\A} alternate-shortcut: {Shortcut Left} description: "Turn left.")
      (<World-Action-Item> name: rotate-right  title: "Turn right" shortcut: {Shortcut #\D} alternate-shortcut: {Shortcut Right} description: "Turn right.")
      (<World-Action-Item> name: strafe-left   title: "Strafe left" shortcut: {Shortcut #\Q} description: "Strafe left.")
      (<World-Action-Item> name: strafe-right  title: "Strafe right" shortcut: {Shortcut #\E} description: "Strafe right."))))


;;;
;;;; Camera
;;;


(class World-Camera-Actions extends World-Actions
  
  
  (form
    (<install>                                       title: "Camera"
      (<World-Action-Item> name: rotate-camera       title: "Rotate camera" shortcut: {Shortcut LeftDrag} description: "Rotate camera.")
      (<World-Action-Item> name: zoom-in/out         title: "Zoom in/out" shortcut: {Shortcut MouseWheel} description: "Zoom in/out.")
      (<World-Action-Item> name: strafe-up           title: "Strafe up" shortcut: {Shortcut Space} description: "Strafe up.")
      (<World-Action-Item> name: strafe-down         title: "Strafe down" shortcut: {Shortcut #\X} description: "Strafe down.")
      (<World-Action-Item> name: toggle-first-person title: "First person" action-handler: {Event-Handler :world on-toggle-first-person} shortcut: {Shortcut :alt #\1} description: ("Toggle between first person and free camera mode." "" (<bulleted> "First person: control your character") (<bulleted> "Free camera: control the camera independently of your character")))
      (<World-Action-Item> name: orbit-mode          title: "Orbit mode" action-handler: {Event-Handler :world on-orbit-mode} shortcut: {Shortcut :alt #\2} description: "Orbit camera around target.")
      (<World-Action-Item> name: toggle-camera-lock  title: "Camera lock" action-handler: {Event-Handler :world on-toggle-camera-lock} shortcut: {Shortcut :alt #\8} description: "Recenter camera automatically after looking sideways."))))


;;;
;;;; Game
;;;


(class World-Game-Actions extends World-Actions
  
  
  (form
    (<install>                                           title: "Game"
      (<World-Action-Item> name: jump                    title: "Jump" shortcut: {Shortcut Space} description: "Jump.")
      (<World-Action-Item> name: fire                    title: "Fire" shortcut: {Shortcut #\1} description: "Fire a bullet.")
      @wait
      (<World-Action-Item> name: mind-control            title: "Mind control" action-handler: {Event-Handler :world on-mind-control} shortcut: {Shortcut #\C} description: ("Mind control the target creature becoming it for a short period of time." "" (<paragraph> "If target is already mind controlled, control is returned to player.")))
      (<World-Action-Item> name: toggle-aim              title: "Aim" action-handler: {Event-Handler :world on-toggle-aim} shortcut: {Shortcut #\7} description: "Display a firing aim.")
      (<World-Action-Item> name: toggle-free-aim         title: "Free aim" action-handler: {Event-Handler :world on-toggle-free-aim} shortcut: {Shortcut :control #\7} description: "Enable free aim where missiles will be fired in the direction you are looking at.")
      (<World-Action-Item> name: toggle-mount            title: "Mount" action-handler: {Event-Handler :world on-toggle-mount} shortcut: {Shortcut #\T} description: "Mount a fast ground vehicle.")
      (<World-Action-Item> name: toggle-fly              title: "Fly" action-handler: {Event-Handler :world on-toggle-fly} shortcut: {Shortcut #\F} description: "Mount a very fast air vehicle.")
      (<World-Action-Item> name: character-pane          title: "Character" action-handler: {Event-Handler :world on-character-pane} shortcut: {Shortcut #\N} description: "Show character information pane."))))


;;;
;;;; Spell
;;;


(class World-Spell-Actions extends World-Actions
  
  
  (form
    (<install>                                           title: "Spell"
      (<World-Action-Item> name: rapid-fire              title: "Rapid fire" shortcut: {Shortcut #\3} description: "Enter rapid fire for a short period of time.")
      (<World-Action-Item> name: blink                   title: "Blink" shortcut: {Shortcut #\4} description: "Blink forward a short distance.")
      (<World-Action-Item> name: warp                    title: "Warp" action-handler: {Event-Handler :world on-warp} shortcut: {Shortcut #\5} description: "Warp forward a short distance moving through solid objects.")
      (<World-Action-Item> name: sprint                  title: "Sprint" action-handler: {Event-Handler :world on-sprint} shortcut: {Shortcut #\6} description: "Run at high speed for a short period of time."))))


;;;
;;;; Edition
;;;


(class World-Edition-Actions extends World-Actions
  
  
  (form
    (<install>                                                    title: "Edition"
      (<World-Action-Item> name: select-target-mode               title: "Select" action-handler: {Event-Handler :world on-select-target-mode} shortcut: {Shortcut :control #\Q} description: "Select.")
      (<World-Action-Item> name: move-target-mode                 title: "Move target" action-handler: {Event-Handler :world on-move-target-mode} shortcut: {Shortcut :control #\W} description: "Move target.")
      (<World-Action-Item> name: rotate-target-mode               title: "Rotate target" action-handler: {Event-Handler :world on-rotate-target-mode} shortcut: {Shortcut :control #\E} description: "Rotate target.")
      (<World-Action-Item> name: scale-target-mode                title: "Scale target" action-handler: {Event-Handler :world on-scale-target-mode} shortcut: {Shortcut :control #\R} description: "Scale target.")
      (<World-Action-Item> name: no-showcase                      title: "Select" action-handler: {Event-Handler :world on-showcase showcase: #f} shortcut: {Shortcut :alt #\Q} description: ("Select."))
      (<World-Action-Item> name: blocks-showcase                  title: "Blocks" action-handler: {Event-Handler :world on-showcase showcase: blocks} shortcut: {Shortcut :alt #\W} description: ("Blocks showcase."))
      (<World-Action-Item> name: models-showcase                  title: "Models" action-handler: {Event-Handler :world on-showcase showcase: models} shortcut: {Shortcut :alt #\E} description: ("Models showcase."))
      (<World-Action-Item> name: animations-showcase              title: "Animations" action-handler: {Event-Handler :world on-showcase showcase: animations} shortcut: {Shortcut :alt #\A} description: ("Animations showcase."))
      (<World-Action-Item> name: shaders-showcase                 title: "Shaders" action-handler: {Event-Handler :world on-showcase showcase: shaders} shortcut: {Shortcut :alt #\S} description: ("Shaders showcase."))
      (<World-Action-Item> name: tiles-showcase                   title: "Tiles" action-handler: {Event-Handler :world on-showcase showcase: tiles} shortcut: {Shortcut :alt #\D} description: ("Tiles showcase."))
      (<World-Action-Item> name: textures-showcase                title: "Textures" action-handler: {Event-Handler :world on-showcase showcase: textures} shortcut: {Shortcut :alt #\T} description: ("Textures showcase."))
      (<World-Action-Item> name: skyboxes-showcase                title: "Skyboxes" action-handler: {Event-Handler :world on-showcase showcase: skyboxes} shortcut: {Shortcut :alt #\Y} description: ("Skyboxes showcase."))
      (<World-Action-Item> name: gadgets-showcase                 title: "Gadgets" action-handler: {Event-Handler :world on-showcase showcase: gadgets} shortcut: {Shortcut :alt #\G} description: ("Gadgets showcase."))
      (<World-Action-Item> name: meshes-showcase                  title: "Meshes" action-handler: {Event-Handler :world on-showcase showcase: meshes} shortcut: {Shortcut :alt #\H} description: ("Meshes showcase."))
      (<World-Action-Item> name: add-element                      title: "Add element" shortcut: {Shortcut :control LeftClick} description: "Add selected showcase element.")
      (<World-Action-Item> name: remove-element                   title: "Remove element" shortcut: {Shortcut :alt LeftClick} description: "Remove clicked element.")
      (<World-Action-Item> name: change-element                   title: "Change element" shortcut: {Shortcut :control :alt LeftClick} description: "Change clicked element.")
      (<World-Action-Item> name: import-model                     title: "Import model" action-handler: {Event-Handler :world on-import-model} shortcut: {Shortcut :control #\I} description: ("Choose a model from the assets folder and add it to the world." "" (<paragraph> "A model is a 3d object created by an external 3d software.")))
      (<World-Action-Item> name: select-target                    title: "Select target" shortcut: {Shortcut LeftClick} alternate-shortcut: {Shortcut :shift LeftClick} description: "Select target.")
      (<World-Action-Item> name: delete-target                    title: "Delete target" action-handler: {Event-Handler :world on-delete-target} shortcut: {Shortcut Delete} alternate-shortcut: {Shortcut Backspace} description: "Delete target.")
      (<World-Action-Item> name: toggle-grid                      title: "Grid" action-handler: {Event-Handler :world on-toggle-grid} shortcut: {Shortcut :control #\G} description: "Display a grid that will be used to position elements added to the world.")
      (<World-Action-Item> name: toggle-grid-z                    title: "Z grid" action-handler: {Event-Handler :world on-toggle-grid-plane plane: z} shortcut: {Shortcut :control #\1} description: "Display a Z-axis oriented grid.")
      (<World-Action-Item> name: toggle-grid-y                    title: "Y grid" action-handler: {Event-Handler :world on-toggle-grid-plane plane: y} shortcut: {Shortcut :control #\2} description: "Display a Y-axis oriented grid.")
      (<World-Action-Item> name: toggle-grid-x                    title: "X grid" action-handler: {Event-Handler :world on-toggle-grid-plane plane: x} shortcut: {Shortcut :control #\3} description: "Display a X-axis oriented grid.")
      (<World-Action-Item> name: move-grid                        title: "Move grid" shortcut: {Shortcut :alt MouseWheel} description: "Move grid.")
      (<World-Action-Item> name: decrease-grid                    title: "Decrease grid position" action-handler: {Event-Handler :world on-decrease-grid} shortcut: {Shortcut :control Left} description: "Decrease grid position.")
      (<World-Action-Item> name: increase-grid                    title: "Increase grid position" action-handler: {Event-Handler :world on-increase-grid} shortcut: {Shortcut :control Right} description: "Increase grid position.")
      (<World-Action-Item> name: reload-textures                  title: "Reload textures" action-handler: {Event-Handler :world on-reload-textures} shortcut: {Shortcut :control :alt #\T} description: "Reload textures.")
      (<World-Action-Item> name: change-editor-mode               title: "Change editor mode" action-handler: {Event-Handler :world on-change-editor-mode} shortcut: {Shortcut :control #\D} description: ("Change editor modes." "" (<paragraph> "Editor mode constrains how elements are added when you add elements by click and drag.") "" (<bulleted> "Block: add elements in the same plane") (<bulleted> "Column: add elements in a column") (<bulleted> "Free: no constraints"))))))


;;;
;;;; History
;;;


(class World-History-Actions extends World-Actions
  
  
  (form
    (<install>                                          title: "History"
      (<World-Action-Item> name: toggle-paused          title: "Pause" action-handler: {Event-Handler :world on-toggle-paused} shortcut: {Shortcut #\P} description: ("Pause the game entering history mode." "" (<paragraph> "In history mode you can move backward and forward in time throughout the recorded game.")))
      (<World-Action-Item> name: backward-history       title: "Backward history" action-handler: {Event-Handler :world on-backward-history} shortcut: {Shortcut #\open-bracket} description: "Move backward in history.")
      (<World-Action-Item> name: forward-history        title: "Forward history" action-handler: {Event-Handler :world on-forward-history} shortcut: {Shortcut #\close-bracket} description: "Move forward in history.")
      (<World-Action-Item> name: step-world             title: "Step history" action-handler: {Event-Handler :world on-step-world} shortcut: {Shortcut #\backslash} description: "Step history rerunning game logic.")
      (<World-Action-Item> name: toggle-history         title: "Disable history" action-handler: {Event-Handler :world on-toggle-history} shortcut: {Shortcut #\H} description: "Disable history recording.")
      (<World-Action-Item> name: reset-history          title: "Reset history" action-handler: {Event-Handler :world on-reset-history} shortcut: {Shortcut :shift #\H} description: "Reset history.")
      (<World-Action-Item> name: toggle-evaluate-future title: "Evaluate future" action-handler: {Event-Handler :world on-toggle-evaluate-future} shortcut: {Shortcut :control #\backslash} description: "Evaluations will rerun game logic on the future (needs a remote debugger connection)."))))


;;;
;;;; Window
;;;


(class World-Window-Actions extends World-Actions
  
  
  (form
    (<install>                                        title: "Window"
      (<World-Action-Item> name: toggle-windowed-mode title: "Windowed / fullscreen" action-handler: {Event-Handler :world on-toggle-windowed-mode} shortcut: {Shortcut F11} alternate-shortcut: {Shortcut :control :alt F11} description: "Toggle between windowed and fullscreen mode.")
      (<World-Action-Item> name: live-gaia/world      title: "Live setup" action-handler: {Event-Handler :world on-live-gaia/world} shortcut: {Shortcut F9} alternate-shortcut: {Shortcut :control :alt F9} description: "Live setup (needs a remote debugger connection).")
      (<World-Action-Item> name: design-gaia/world    title: "Design setup" action-handler: {Event-Handler :world on-design-gaia/world} shortcut: {Shortcut F10} alternate-shortcut: {Shortcut :control :alt F10} description: "Design setup (needs a remote debugger connection).")
      (<World-Action-Item> name: restore-gaia/world   title: "Restore" action-handler: {Event-Handler :world on-restore-gaia/world} shortcut: {Shortcut F12} alternate-shortcut: {Shortcut :control :alt F12} description: "Restore setup (needs a remote debugger connection)."))))


;;;
;;;; Debug
;;;


(class World-Debug-Actions extends World-Actions
  
  
  (form
    (<install>                                                    title: "Debug"
      (<World-Action-Item> name: toggle-info                      title: "Info" action-handler: {Event-Handler :world on-toggle-info} shortcut: {Shortcut #\plus} description: "Show debugging information.")
      (<World-Action-Item> name: toggle-memory                    title: "Memory" action-handler: {Event-Handler :world on-toggle-memory} shortcut: {Shortcut :control #\minus} description: "Show memory indicators.")
      (<World-Action-Item> name: toggle-counters                  title: "Counters" action-handler: {Event-Handler :world on-toggle-counters} shortcut: {Shortcut #\minus} description: "Show performance counters.")
      (<World-Action-Item> name: reset-counters                   title: "Reset counters" action-handler: {Event-Handler :world on-reset-counters} shortcut: {Shortcut :shift #\minus} description: "Reset performance counters.")
      (<World-Action-Item> name: toggle-axes                      title: "Axes" action-handler: {Event-Handler :world on-toggle-axes} shortcut: {Shortcut :control #\plus} description: "Display axes.")
      (<World-Action-Item> name: toggle-orientation               title: "Orientation" action-handler: {Event-Handler :world on-toggle-orientation} shortcut: {Shortcut #\8} description: "Display axes showing eye orientation.")
      (<World-Action-Item> name: toggle-debug-sectors             title: "Sectors" action-handler: {Event-Handler :world on-toggle-debug-sectors} shortcut: {Shortcut :shift #\6} description: "Display sectors.")
      (<World-Action-Item> name: toggle-debug-areas               title: "Areas" action-handler: {Event-Handler :world on-toggle-debug-areas} shortcut: {Shortcut #\6} description: "Display areas.")
      (<World-Action-Item> name: toggle-draw-atlas                title: "Atlas" action-handler: {Event-Handler :world on-toggle-draw-atlas} shortcut: {Shortcut :control #\K} description: ("Display atlas." "" (<paragraph> "An atlas is a collection of textures grouped together for efficiency reasons.")))
      (<World-Action-Item> name: toggle-draw-me                   title: "Player" action-handler: {Event-Handler :world on-toggle-draw-me} shortcut: {Shortcut :alt #\M} description: "Display player.")
      (<World-Action-Item> name: toggle-gc-sound                  title: "GC sound" action-handler: {Event-Handler :world on-toggle-gc-sound} shortcut: {Shortcut :control :alt #\G} description: "Play a sound each time a garbage collection occurs.")
      (<World-Action-Item> name: change-missile-behavior          title: "Change missile behavior" action-handler: {Event-Handler :world on-change-missile-behavior} shortcut: {Shortcut :control #\H} alternate-shortcut: {Shortcut :control :shift #\H} description: ("Change missile behavior." "" (<bulleted> "Destroy: destroy hit elements") (<bulleted> "Absorb: get absorbed by hit elements") (<bulleted> "Rebound: rebound on hit elements") (<bulleted> "Slide: slide on hit elements")))
      (<World-Action-Item> name: reset-marks                      title: "Reset marks" action-handler: {Event-Handler :world on-reset-marks} shortcut: {Shortcut :control #\M} description: ("Reset all marks." "" (<paragraph> "A mark is a debugging information displayed in the 3d world.")))
      (<World-Action-Item> name: clear-console                    title: "Clear console" action-handler: {Event-Handler :world on-clear-console} shortcut: {Shortcut :control :shift #\C} description: "Clear the console (needs a remote debugger connection).")
      (<World-Action-Item> name: clear-terminal                   title: "Clear terminal" action-handler: {Event-Handler :world on-clear-terminal} shortcut: {Shortcut :control :alt #\C} description: ("Clear the terminal." "" (<paragraph> "The terminal is where low-level debugging information is outputted.")))
      (<World-Action-Item> name: garbage-collect                  title: "Garbage collect" action-handler: {Event-Handler :world on-garbage-collect} shortcut: {Shortcut :alt #\C} description: "Garbage collect memory.")
      (<World-Action-Item> name: explore-interface                title: "Explore interface" action-handler: {Event-Handler :world on-explore-interface} shortcut: {Shortcut F8} description: "Explore the components of the user interface.")
      (<World-Action-Item> name: test1                            title: "Run test #1" action-handler: {Event-Handler :world on-test1} shortcut: {Shortcut :control :alt #\1} description: "Run test #1.")
      (<World-Action-Item> name: test2                            title: "Run test #2" action-handler: {Event-Handler :world on-test2} shortcut: {Shortcut :control :alt #\2} description: "Run test #2.")
      (<World-Action-Item> name: test3                            title: "Run test #3" action-handler: {Event-Handler :world on-test3} shortcut: {Shortcut :control :alt #\3} description: "Run test #3.")
      (<World-Action-Item> name: test4                            title: "Run test #4" action-handler: {Event-Handler :world on-test4} shortcut: {Shortcut :control :alt #\4} description: "Run test #4.")
      (<World-Action-Item> name: test5                            title: "Run test #5" action-handler: {Event-Handler :world on-test5} shortcut: {Shortcut :control :alt #\5} description: "Run test #5.")
      (<World-Action-Item> name: test6                            title: "Run test #6" action-handler: {Event-Handler :world on-test6} shortcut: {Shortcut :control :alt #\6} description: "Run test #6.")
      (<World-Action-Item> name: test7                            title: "Run test #7" action-handler: {Event-Handler :world on-test7} shortcut: {Shortcut :control :alt #\7} description: "Run test #7.")
      (<World-Action-Item> name: test8                            title: "Run test #8" action-handler: {Event-Handler :world on-test8} shortcut: {Shortcut :control :alt #\8} description: "Run test #8.")
      (<World-Action-Item> name: test9                            title: "Run test #9" action-handler: {Event-Handler :world on-test9} shortcut: {Shortcut :control :alt #\9} description: "Run test #9.")
      (<World-Action-Item> name: test0                            title: "Run test #0" action-handler: {Event-Handler :world on-test0} shortcut: {Shortcut :control :alt #\0} description: "Run test #0."))))


;;;
;;;; Collision
;;;


(class World-Collision-Actions extends Actions
  
  
  (form
    (<install>                                           title: "Collision"
      (<World-Action-Item> name: setup-collisions        title: "Setup collisions" action-handler: {Event-Handler :world on-setup-collisions} description: "Setup collisions.")
      (<World-Action-Item> name: toggle-debug-collisions title: "Debug collisions" action-handler: {Event-Handler :world on-toggle-debug-collisions} description: "Toggle debug collisions.")
      (<World-Action-Item> name: change-radiuses         title: "Change radiuses" action-handler: {Event-Handler :world on-change-radiuses} description: "Change radiuses of the player.")
      (<World-Action-Item> name: test-collisions         title: "Test collisions" action-handler: {Event-Handler :world on-test-collisions} description: "Test collisions."))))


;;;
;;;; Anonymous
;;;


(class World-Anonymous-Actions extends Actions
  
  
  (form
    (<install>                                title: "Anonymous"
      (<World-Action-Item> name: resume-world title: "Resume Game" action-handler: {Event-Handler :world on-resume-world} description: "Resume Game.")
      (<World-Action-Item> name: enter-press  action-handler: {Event-Handler :world on-enter-press} shortcut: {Shortcut Return} description: {Event-Handler :world on-enter-press.})))))
