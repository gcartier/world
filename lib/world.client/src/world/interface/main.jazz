;;;===============
;;;  WorldScheme
;;;===============
;;;
;;;; World Main Menu
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012-2016
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.interface.main jazz


(import (jazz.action)
        (jazz.jml)
        (jazz.menu)
        (world)
        (world.autoload)
        (world.context)
        (world.syntax (phase syntax)))


(class World-Main-Menu extends Menu
  
  
  (form
    (<install>          title: "Help" display-shortcuts?: #f
      (<Label-Item>     title: "Resume" action-handler: {Action world-anonymous resume-world})
      (<Separator-Item>)
      (<Label-Item>     title: "Video Options" action-handler: {Action world-menu video-options})
      (<Label-Item>     title: "Audio Options" action-handler: {Action world-menu audio-options})
      (<Label-Item>     title: "Interface Options" action-handler: {Action world-menu interface-options})
      (<Label-Item>     title: "Key Bindings" action-handler: {Action world-menu bindings-viewer})
      (<Separator-Item>)
      (<Label-Item>     title: "News" action-handler: {Action world-menu view-news})
      (<Label-Item>     title: "Roadmap" action-handler: {Action world-menu view-roadmap})
      (<Label-Item>     title: "About" action-handler: {Action world-menu open-about})
      @wait
      (<Label-Item>     title: "Help" action-handler: {Action world-menu view-help})
      (<Separator-Item>)
      (<Label-Item>     title: "Welcome Screen" action-handler: {Action world-menu open-welcome})
      (<Label-Item>     title: "Quit Game" action-handler: {Action world-menu quit-world})))
  
  
  (method override (destroy self)
    (nextmethod self)
    (let ((world (current-world)))
      (main-menu-destroyed world)))))
