;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; World Player Frame
;;;


(module world.interface.player jazz


(import (jazz.geometry)
        (jazz.graphic)
        (jazz.graphic.opengl.glew)
        (jazz.library)
        (jazz.literals)
        (jazz.platform)
        (jazz.platform.cairo)
        (jazz.ui)
        (world)
        (world.draw)
        (world.interface)
        (world.interface.pane)
        (world.texture))


(class Player-Pane extends World-Pane
  
  
  (method override (draw surface context)
    (when me
      (let ((life (get-life~ me))
            (h 0)
            (v 0))
        (let ((rect (new Rect h v (+ h (fxround (/ (* life 160.) 100.))) (+ v 15))))
          (fill-rect~ surface rect {Color Blue})
          (frame-rect~ surface (inflate-rect (new Rect h v (+ h 160) (+ v 15)) 1 1) {Color Black})))))))
