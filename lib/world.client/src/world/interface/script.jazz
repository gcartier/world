;;;===============
;;;  WorldScheme
;;;===============
;;;
;;;; World Script Pane
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012-2015
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.interface.script jazz


(import (jazz.editor.jazz)
        (jazz.jml)
        (jazz.graphic)
        (jazz.ui)
        (world)
        (world.autoload)
        (world.interface.pane)
        (world.syntax (phase syntax)))


(class Script-Pane extends World-Pane
  
  
  (form
    (<install>                        size: {Dimension 420 639} background: {Color red: .000 green: .000 blue: .000 alpha: .650} layout-type: fill
      (<Border-View>                  border-color: {Color Medium-Gray} border-type: edge style: entry layout-type: fill
        (<Scroller-View>              style: document hscroll?: #t vscroll?: #t
          (<content~>                 layout-type: fill
            (<Script-Text> name: text background: #f))))))
  
  
  (slot actor initialize #f accessors generate)
  
  
  (method (save-script)
    (let ((zone (current-zone)))
      (when actor
        (let ((text (locate 'text)))
          (write-element~ zone actor 'script (get-string-content~ text)))))))


;;;
;;;; Script-Text
;;;


(class Script-Text extends Jazz-Text-View))
