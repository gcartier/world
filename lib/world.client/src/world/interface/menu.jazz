;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; World Menus
;;;
;;;  The Initial Developer of the Original Code is Guillaume Cartier.
;;;  Portions created by the Initial Developer are Copyright (C) 2012
;;;  the Initial Developer. All Rights Reserved.
;;;
;;;  Contributor(s):


(module world.interface.menu jazz


(import (jazz.jml)
        (jazz.graphic)
        (jazz.graphic.opengl.glew)
        (jazz.library)
        (jazz.literals)
        (jazz.platform)
        (jazz.platform.cairo)
        (jazz.system)
        (jazz.ui)
        (jazz.ui.view)
        (world)
        (world.autoload)
        (world.client)
        (world.client.actions)
        (world.interface)
        (world.interface.popup)
        (world.syntax (phase syntax)))


(definition public (open-menu menu)
  (let ((world (current-world)))
    (let ((interface (get-interface~ world)))
      (let ((pane (new World-Menu parent: interface size: (nu+ (get-size~ menu) {Dimension 2 2}) location: 'center layout-type: 'border)))
        (let ((content (locate~ pane 'content)))
          (set-parent~ menu content))
        (layout-view~ interface)
        (focus-default~ pane)))))


;;;
;;;; World-Menu
;;;


(class World-Menu extends World-Popup
  
  
  (form
    (<install>
      (<Border-View> name: content location: center border-type: edge style: entry layout-type: fill)))))
