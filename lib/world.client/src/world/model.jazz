;;;==============
;;;  JazzScheme
;;;==============
;;;
;;;; World Models
;;;


(module world.model jazz


(import (jazz.jml)
        (jazz.graphic)
        (jazz.graphic.opengl.glew)
        (world)
        (world.array)
        (world.draw)
        (world.foreign)
        (world.foreign.obj)
        (world.gadget)
        (world.geometry)
        (world.object)
        (world.shader)
        (world.sprite))


;;;
;;;; Model
;;;


(class Model extends Object
  
  
  (slot vao     <object> initialize #f accessors generate)
  (slot texture <object> initialize #f accessors generate)
  
  
  (method override (initialize)
    (set! vao (new VAO)))
  
  
  ;;;
  ;;;; Obj
  ;;;
  
  
  (method public (load-obj file texture)
    (generate-buffer~ vao)
    (set-vbo~ vao (parse-obj (parse~ file)))
    (set! texture~self texture))))
